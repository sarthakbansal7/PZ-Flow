(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8236],{9235:(e,t,s)=>{Promise.resolve().then(s.bind(s,31810))},31810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(95155),r=s(12115),l=s(78126),n=s.n(l),m=s(62177),o=s(42500),x=s(64767),d=s(46520),i=s(82714),c=s(89852),p=s(53999);let u=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"absolute inset-x-0 -bottom-px block h-px w-full bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-0 transition duration-500 group-hover/btn:opacity-100"}),(0,a.jsx)("span",{className:"absolute inset-x-10 -bottom-px mx-auto block h-px w-1/2 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-0 blur-sm transition duration-500 group-hover/btn:opacity-100"})]}),h=e=>{let{children:t,className:s}=e;return(0,a.jsx)("div",{className:(0,p.cn)("flex w-full flex-col space-y-2",s),children:t})},g=e=>{let{formMethods:t,onSubmit:s,isLoading:r,apiError:l,successMessage:n,setAuthStep:m}=e,{register:o,handleSubmit:x,formState:{errors:d}}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-3xl font-bold text-neutral-800 dark:text-neutral-200",children:"Welcome back to PayZoll"}),(0,a.jsx)("p",{className:"mt-2 max-w-sm text-sm sm:text-lg text-neutral-600 dark:text-neutral-300",children:"Login to manage your crypto payroll."}),(0,a.jsxs)("form",{className:"my-8",onSubmit:x(s),children:[l&&(0,a.jsx)("p",{className:"mb-4 text-sm sm:text-lg text-red-600 dark:text-red-400",children:l}),n&&(0,a.jsx)("p",{className:"mb-4 text-sm sm:text-lg text-green-600 dark:text-green-400",children:n}),(0,a.jsxs)(h,{className:"mb-4",children:[(0,a.jsx)(i.J,{htmlFor:"email",className:"text-sm sm:text-lg",children:"Email Address"}),(0,a.jsx)(c.p,{id:"email",placeholder:"you@company.com",type:"email",className:"h-10 sm:h-12 text-sm sm:text-lg",...o("email",{required:"Email is required"})}),d.email&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:d.email.message})]}),(0,a.jsxs)(h,{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(i.J,{htmlFor:"password",className:"text-sm sm:text-lg",children:"Password"}),(0,a.jsx)("button",{type:"button",onClick:()=>m("forgotPassword"),className:"text-xs sm:text-sm font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Forgot password?"})]}),(0,a.jsx)(c.p,{id:"password",placeholder:"••••••••",type:"password",className:"h-10 sm:h-12 text-sm sm:text-lg",...o("password",{required:"Password is required"})}),d.password&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:d.password.message})]}),(0,a.jsxs)("button",{className:"group/btn relative block h-10 sm:h-12 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",type:"submit",disabled:r,children:[(0,a.jsxs)("span",{className:"text-sm sm:text-lg",children:[r?"Logging In...":"Login"," →"]}),(0,a.jsx)(u,{})]}),(0,a.jsx)("div",{className:"my-8 h-[1px] w-full bg-gradient-to-r from-transparent via-neutral-300 to-transparent dark:via-neutral-700"}),(0,a.jsxs)("p",{className:"mt-4 text-center text-sm sm:text-lg text-neutral-600 dark:text-neutral-300",children:["Don't have an account?"," ",(0,a.jsx)("button",{type:"button",onClick:()=>m("register"),className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Register"})]})]})]})},f=e=>{let{formMethods:t,onSubmit:s,isLoading:r,apiError:l,successMessage:n,setAuthStep:m}=e,{register:o,handleSubmit:x,formState:{errors:d},watch:p}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-3xl font-bold text-neutral-800 dark:text-neutral-200",children:"Create your PayZoll Account"}),(0,a.jsx)("p",{className:"mt-2 max-w-sm text-sm sm:text-xl text-neutral-600 dark:text-neutral-300",children:"Join us to simplify your crypto payroll."}),(0,a.jsxs)("form",{className:"my-8",onSubmit:x(s),children:[l&&(0,a.jsx)("p",{className:"mb-4 text-sm sm:text-lg text-red-600 dark:text-red-400",children:l}),n&&(0,a.jsx)("p",{className:"mb-4 text-sm sm:text-lg text-green-600 dark:text-green-400",children:n}),(0,a.jsxs)(h,{className:"mb-4",children:[(0,a.jsx)(i.J,{htmlFor:"email",className:"text-sm sm:text-lg",children:"Email Address"}),(0,a.jsx)(c.p,{id:"email",placeholder:"you@company.com",type:"email",className:"h-10 sm:h-12 text-sm sm:text-lg",...o("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}})}),d.email&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:d.email.message})]}),(0,a.jsxs)(h,{className:"mb-4",children:[(0,a.jsx)(i.J,{htmlFor:"password",className:"text-sm sm:text-lg",children:"Password"}),(0,a.jsx)(c.p,{id:"password",placeholder:"••••••••",type:"password",className:"h-10 sm:h-12 text-sm sm:text-lg",...o("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}})}),d.password&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:d.password.message})]}),(0,a.jsxs)(h,{className:"mb-4",children:[(0,a.jsx)(i.J,{htmlFor:"confirmPassword",className:"text-sm sm:text-lg",children:"Confirm Password"}),(0,a.jsx)(c.p,{id:"confirmPassword",placeholder:"••••••••",type:"password",className:"h-10 sm:h-12 text-sm sm:text-lg",...o("confirmPassword",{required:"Please confirm your password",validate:e=>e===p("password")||"Passwords do not match"})}),d.confirmPassword&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:d.confirmPassword.message})]}),(0,a.jsxs)(h,{className:"mb-8",children:[(0,a.jsx)(i.J,{htmlFor:"company",className:"text-sm sm:text-lg",children:"Company Name"}),(0,a.jsx)(c.p,{id:"company",placeholder:"Your Company Inc.",type:"text",className:"h-10 sm:h-12 text-sm sm:text-lg",...o("company",{required:"Company name is required"})}),d.company&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:d.company.message})]}),(0,a.jsxs)("button",{className:"group/btn relative block h-10 sm:h-12 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",type:"submit",disabled:r,children:[(0,a.jsxs)("span",{className:"text-sm sm:text-lg",children:[r?"Creating Account...":"Sign up"," →"]}),(0,a.jsx)(u,{})]}),(0,a.jsx)("div",{className:"my-8 h-[1px] w-full bg-gradient-to-r from-transparent via-neutral-300 to-transparent dark:via-neutral-700"}),(0,a.jsxs)("p",{className:"mt-4 text-center text-sm sm:text-lg text-neutral-600 dark:text-neutral-300",children:["Already have an account?"," ",(0,a.jsx)("button",{type:"button",onClick:()=>m("login"),className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Login"})]})]})]})},b=e=>{let{formMethods:t,onSubmit:s,isLoading:r,apiError:l,successMessage:n,setAuthStep:m}=e,{register:o,handleSubmit:x,formState:{errors:d}}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-neutral-800 dark:text-neutral-200",children:"Forgot Password"}),(0,a.jsx)("p",{className:"mt-2 max-w-sm text-sm sm:text-lg text-neutral-600 dark:text-neutral-300",children:"Enter your email address and we'll send you an OTP to reset your password."}),(0,a.jsxs)("form",{className:"my-8",onSubmit:x(s),children:[l&&(0,a.jsx)("p",{className:"mb-4 text-sm sm:text-lg text-red-600 dark:text-red-400",children:l}),n&&(0,a.jsx)("p",{className:"mb-4 text-sm sm:text-lg text-green-600 dark:text-green-400",children:n}),(0,a.jsxs)(h,{className:"mb-4",children:[(0,a.jsx)(i.J,{htmlFor:"forgot-email",className:"text-sm sm:text-lg",children:"Email Address"}),(0,a.jsx)(c.p,{id:"forgot-email",placeholder:"you@company.com",type:"email",className:"h-10 sm:h-12 text-sm sm:text-lg",...o("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}})}),d.email&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:d.email.message})]}),(0,a.jsxs)("button",{className:"group/btn relative block h-10 sm:h-12 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",type:"submit",disabled:r,children:[(0,a.jsxs)("span",{className:"text-sm sm:text-lg",children:[r?"Sending OTP...":"Send OTP"," →"]}),(0,a.jsx)(u,{})]}),(0,a.jsx)("div",{className:"my-8 h-[1px] w-full bg-gradient-to-r from-transparent via-neutral-300 to-transparent dark:via-neutral-700"}),(0,a.jsxs)("p",{className:"mt-4 text-center text-sm sm:text-lg text-neutral-600 dark:text-neutral-300",children:["Remembered your password?"," ",(0,a.jsx)("button",{type:"button",onClick:()=>m("login"),className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Login"})]})]})]})},j=e=>{let{formMethods:t,onSubmit:s,isLoading:r,apiError:l,successMessage:n,setAuthStep:m,userEmailForOtp:o}=e,{register:x,handleSubmit:d,formState:{errors:p},getValues:g}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-neutral-800 dark:text-neutral-200",children:"Reset Your Password"}),(0,a.jsxs)("p",{className:"mt-2 max-w-sm text-sm sm:text-lg text-neutral-600 dark:text-neutral-300",children:["Enter the OTP sent to ",o||"your email"," and set a new password."]}),(0,a.jsxs)("form",{className:"my-8",onSubmit:d(s),children:[l&&(0,a.jsx)("p",{className:"mb-4 text-sm sm:text-lg text-red-600 dark:text-red-400",children:l}),n&&(0,a.jsx)("p",{className:"mb-4 text-sm sm:text-lg text-green-600 dark:text-green-400",children:n}),(0,a.jsxs)(h,{className:"mb-4",children:[(0,a.jsx)(i.J,{htmlFor:"otp",className:"text-sm sm:text-lg",children:"OTP"}),(0,a.jsx)(c.p,{id:"otp",placeholder:"Enter OTP",type:"text",className:"h-10 sm:h-12 text-sm sm:text-lg",...x("otp",{required:"OTP is required"})}),p.otp&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:p.otp.message})]}),(0,a.jsxs)(h,{className:"mb-4",children:[(0,a.jsx)(i.J,{htmlFor:"reset-password",className:"text-sm sm:text-lg",children:"New Password"}),(0,a.jsx)(c.p,{id:"reset-password",placeholder:"••••••••",type:"password",className:"h-10 sm:h-12 text-sm sm:text-lg",...x("password",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"}})}),p.password&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:p.password.message})]}),(0,a.jsxs)(h,{className:"mb-8",children:[(0,a.jsx)(i.J,{htmlFor:"reset-confirmPassword",className:"text-sm sm:text-lg",children:"Confirm New Password"}),(0,a.jsx)(c.p,{id:"reset-confirmPassword",placeholder:"••••••••",type:"password",className:"h-10 sm:h-12 text-sm sm:text-lg",...x("confirmPassword",{required:"Please confirm your new password",validate:e=>e===g("password")||"Passwords do not match"})}),p.confirmPassword&&(0,a.jsx)("p",{className:"text-sm sm:text-lg text-red-500",children:p.confirmPassword.message})]}),(0,a.jsxs)("button",{className:"group/btn relative block h-10 sm:h-12 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",type:"submit",disabled:r,children:[(0,a.jsxs)("span",{className:"text-sm sm:text-lg",children:[r?"Resetting...":"Reset Password"," →"]}),(0,a.jsx)(u,{})]}),(0,a.jsx)("div",{className:"my-8 h-[1px] w-full bg-gradient-to-r from-transparent via-neutral-300 to-transparent dark:via-neutral-700"}),(0,a.jsxs)("p",{className:"mt-4 text-center text-sm sm:text-lg text-neutral-600 dark:text-neutral-300",children:["Changed your mind?"," ",(0,a.jsx)("button",{type:"button",onClick:()=>m("login"),className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Back to Login"})]})]})]})};var w=s(12168),N=s(57340),y=s(6874),_=s.n(y),k=s(5672),v=s.n(k),P=s(12509);let S=()=>{let[e,t]=(0,r.useState)("register"),[s,l]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[p,u]=(0,r.useState)(null),[h,y]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),{login:F,register:C}=(0,o.A)(),E=(0,r.useRef)(null),q=(0,m.mN)(),O=(0,m.mN)(),L=(0,m.mN)(),z=(0,m.mN)(),A=async e=>{l(!0),u(null),y(null);try{let s=await C(e);s.success?(y("Registration successful! Please log in."),q.reset(),t("login")):u(s.error||"Registration failed")}catch(e){var s,a;u((null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"An unexpected error occurred during registration.")}finally{l(!1)}},J=async e=>{l(!0),u(null),y(null);try{let t=await F(e);t.success?(console.log("Login successful"),y("Login successful! Redirecting..."),O.reset()):u(t.error||"Login failed. Check your credentials.")}catch(e){var t,s;u((null==(s=e.response)||null==(t=s.data)?void 0:t.message)||"An unexpected error occurred during login.")}finally{l(!1)}},T=async e=>{l(!0),u(null),y(null);try{await x.Z.forgotPassword(e.email),S(e.email),y("OTP sent to ".concat(e.email,". Check your inbox.")),t("resetPasswordOtp"),L.reset()}catch(e){var s,a;u((null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"Failed to send OTP. Please try again.")}finally{l(!1)}},R=async e=>{l(!0),u(null),y(null);try{let s={...e,email:k},a=await fetch("".concat(d.p,"/auth/resetPassword/otp"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await a.json();a.ok?(y("Password reset successfully. You can now log in."),z.reset(),S(null),t("login")):u(r.message||"Failed to reset password. Invalid OTP or other issue.")}catch(e){u("An error occurred while resetting the password.")}finally{l(!1)}};return((0,r.useEffect)(()=>{u(null),y(null)},[e]),(0,r.useEffect)(()=>{let e=E.current;if(!e)return;let t=()=>{console.log("Video can play now."),c(!0)};return e.readyState>=3?t():e.addEventListener("canplay",t),()=>{e&&e.removeEventListener("canplay",t)}},[]),i)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("link",{rel:"preload",href:"/auth.mp4",as:"video",type:"video/mp4"}),(0,a.jsx)("title",{children:"Authentication"})]}),(0,a.jsx)(w.n,{}),(0,a.jsx)("div",{className:"absolute z-50 top-4 right-4",children:(0,a.jsx)(_(),{href:"/",children:(0,a.jsx)(N.A,{className:"text-black dark:hover:text-gray-200 hover:text-gray-800 dark:text-white",size:30})})}),(0,a.jsxs)("div",{className:"grid xl:grid-cols-2 h-screen xl:place-content-center bg-white dark:bg-black overflow-scroll",children:[(0,a.jsxs)("div",{className:"dark:text-white text-black items-center justify-center hidden xl:flex",children:[(0,a.jsx)("div",{className:"relative w-full h-[100vh] overflow-hidden",children:(0,a.jsx)("video",{ref:E,className:"absolute inset-0 w-full h-full object-cover",src:"/auth.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto"})}),(0,a.jsx)("div",{className:"absolute w-auto",children:(0,a.jsx)("span",{className:"".concat(v().className," font-bold text-white text-8xl"),children:"WELCOME"})})]}),(0,a.jsx)("div",{className:"flex relative items-center justify-center overflow-scroll p-4",children:(0,a.jsx)("div",{className:"relative w-full max-w-xl h-[90%] rounded-lg overflow-scroll",children:(()=>{let r={isLoading:s,apiError:p,successMessage:h,setAuthStep:t};switch(e){case"register":return(0,a.jsx)(f,{formMethods:q,onSubmit:A,...r});case"login":return(0,a.jsx)(g,{formMethods:O,onSubmit:J,...r});case"forgotPassword":return(0,a.jsx)(b,{formMethods:L,onSubmit:T,...r});case"resetPasswordOtp":return(0,a.jsx)(j,{formMethods:z,onSubmit:R,userEmailForOtp:k,...r});default:return null}})()})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("link",{rel:"preload",href:"/auth.mp4",as:"video",type:"video/mp4"}),(0,a.jsx)("title",{children:"Loading..."})]}),(0,a.jsx)("video",{ref:E,src:"/auth.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",style:{display:"none"}}),(0,a.jsx)(P.A,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1908,9688,4134,1530,3464,8021,5955,6580,1845,8441,1684,7358],()=>t(9235)),_N_E=e.O()}]);