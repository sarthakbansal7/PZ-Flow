(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7010],{63611:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eh});var r=a(95155),s=a(12115),l=a(8366),n=a(97535),i=a(10671),o=a(60760),d=a(39785),c=a(14186),m=a(40646),x=a(54861),u=a(81284),g=a(85339),p=a(24357),h=a(33786),y=a(1973);let b=e=>{let{txError:t,isWritePending:a,isTxLoading:l,isTxSuccess:n,isTxError:o,approvalTxHash:d,isApproving:b,txHash:f,getExplorerUrl:k,needsApproval:w,selectedTokenSymbol:v,selectedEmployeesCount:j,chainId:N,onAutoClose:S}=e,[_,C]=(0,s.useState)(!1),[A,E]=(0,s.useState)({isProcessing:!1,isSuccess:!1,isError:!1,error:""});(0,s.useEffect)(()=>{if(50002===N&&f){let e=async()=>{try{if(!window.ethereum)throw Error("No provider available");let t=new y.k(window.ethereum);E(e=>({...e,isProcessing:!0}));let a=await t.getTransactionReceipt(f);if(a)1===a.status?E({isProcessing:!1,isSuccess:!0,isError:!1,error:""}):E({isProcessing:!1,isSuccess:!1,isError:!0,error:"Transaction failed"});else{E(e=>({...e,isProcessing:!0,isError:!1,isSuccess:!1}));let t=setTimeout(()=>e(),3e3);return()=>clearTimeout(t)}}catch(e){console.error("Error checking transaction status:",e),E({isProcessing:!1,isSuccess:!1,isError:!0,error:e instanceof Error?e.message:"Error checking transaction"})}};e()}},[f,N]),(0,s.useEffect)(()=>{if(50002===N&&d){let e=async()=>{try{if(!window.ethereum)return;let t=new y.k(window.ethereum);if(!await t.getTransactionReceipt(d)){E(e=>({...e,isProcessing:!0}));let t=setTimeout(()=>e(),3e3);return()=>clearTimeout(t)}}catch(e){console.error("Error checking approval status:",e)}};e()}},[d,N]);let T=async e=>{try{await navigator.clipboard.writeText(e),C(!0),setTimeout(()=>C(!1),2e3)}catch(e){console.error("Failed to copy: ",e)}};(0,s.useEffect)(()=>{if(_){let e=setTimeout(()=>C(!1),2e3);return()=>clearTimeout(e)}},[_]),(0,s.useEffect)(()=>{let e=50002===N?A.isSuccess:n,t=50002===N?A.isError:o;if((e||t)&&S){let e=setTimeout(()=>{S()},5e3);return()=>clearTimeout(e)}},[N,A.isSuccess,A.isError,n,o,S]);let P=50002===N?A.isProcessing||b:a||l||b,F=50002===N?A.isProcessing?"processing":A.isSuccess?"success":A.isError?"error":f?"complete":"idle":P?"processing":n?"success":o||t?"error":f?"complete":"idle",R=50002===N?A.error:t,z=50002===N?A.isError:o,U=50002===N?A.isSuccess:n;return(0,r.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-full bg-gradient-to-br overflow-scroll dark:from-gray-900 dark:to-black/95 backdrop-blur-xl border    border-[#a5b4fc]/20 rounded-xl p-4 md:p-5 lg:p-6 transition-all    shadow-lg shadow-black/60 hover:border-[#60a5fa]/30 h-full dark:text-white text-black",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-5",children:[(0,r.jsxs)("div",{className:"p-2 rounded-md ".concat("processing"===F?"bg-amber-500/20 animate-pulse":"success"===F?"bg-green-400/20":"error"===F?"bg-red-400/20":"bg-[#3b82f6]/20"),children:["processing"===F&&(0,r.jsx)(c.A,{className:"w-5 h-5 text-amber-400"}),"success"===F&&(0,r.jsx)(m.A,{className:"w-5 h-5 text-green-500"}),"error"===F&&(0,r.jsx)(x.A,{className:"w-5 h-5 text-red-400"}),"idle"===F&&(0,r.jsx)(u.A,{className:"w-5 h-5 text-[#93c5fd]"})]}),(0,r.jsx)("h2",{className:"text-lg font-bold  dark:text-white text-black ",style:{textShadow:"0 0 5px rgba(59, 130, 246, 0.4), 0 0 10px rgba(96, 165, 250, 0.2)"},children:"Transaction Status"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[R&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-red-400/10 border border-red-400/30    dark:text-white text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,r.jsx)(g.A,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,r.jsx)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide max-w-[1080px] overflow-x-scroll",children:(0,r.jsx)("p",{className:"dark:text-white text-black",children:R})})]}),P&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-amber-500/10 border border-amber-500/30    dark:text-white text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,r.jsx)(c.A,{className:"w-5 h-5 text-amber-400 animate-spin flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,r.jsx)("p",{className:"font-medium mb-1 ",children:b?"Approving ".concat(v,"..."):"Processing transaction..."}),(0,r.jsx)("p",{className:"dark:text-gray-300  text-gray-700",children:"Please wait while the transaction is being processed"})]})]}),U&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-green-400/10 border border-green-400/30    text-[#F2F2F2] rounded-xl text-sm backdrop-blur-sm",children:[(0,r.jsx)(m.A,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,r.jsx)("p",{className:"font-medium mb-1 ",children:"Payment successful!"}),(0,r.jsx)("p",{className:"dark:text-gray-300 text-gray-700 ",children:j>0?"".concat(j," recipient").concat(1!==j?"s":""," paid successfully"):"Transaction completed successfully"})]})]}),z&&!R&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-3 p-4 bg-red-400/10 border border-red-400/30    dark:text-white  text-black rounded-xl text-sm backdrop-blur-sm",children:[(0,r.jsx)(x.A,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:[(0,r.jsx)("p",{className:"font-medium mb-1 ",children:"Transaction failed"}),(0,r.jsx)("p",{className:"text-gray-400 ",children:"The transaction could not be processed. Please try again."})]})]}),d&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-900/80 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,r.jsx)("p",{className:"text-gray-400 mb-2 text-sm ",children:"Approval Transaction:"}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("div",{className:"dark:text-white  text-black text-xs truncate bg-gray-900/80 p-2 rounded-xl flex-1 overflow-x-auto scrollbar-hide",children:d}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>T(d),className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"Copy to clipboard",children:_?(0,r.jsx)(m.A,{className:"w-4 h-4"}):(0,r.jsx)(p.A,{className:"w-4 h-4"})}),(0,r.jsx)("a",{href:k(d),target:"_blank",rel:"noopener noreferrer",className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"View on explorer",children:(0,r.jsx)(h.A,{className:"w-4 h-4"})})]})]})]}),f&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 p-4 bg-gray-900/80 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,r.jsx)("p",{className:"text-gray-400 mb-2 text-sm ",children:"Transaction Hash:"}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("div",{className:"text-[#F2F2F2] text-xs truncate bg-gray-900/80 p-2 rounded-xl flex-1 overflow-x-auto scrollbar-hide",children:f}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>T(f),className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"Copy to clipboard",children:_?(0,r.jsx)(m.A,{className:"w-4 h-4"}):(0,r.jsx)(p.A,{className:"w-4 h-4"})}),(0,r.jsx)("a",{href:k(f),target:"_blank",rel:"noopener noreferrer",className:"text-[#93c5fd] hover:text-[#60a5fa] p-2 bg-gray-900/80 rounded-xl transition-colors",title:"View on explorer",children:(0,r.jsx)(h.A,{className:"w-4 h-4"})})]})]})]}),w&&!P&&!U&&!z&&j>0&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-[#3b82f6]/10 border border-[#60a5fa]/30 rounded-xl text-sm flex items-start gap-2 backdrop-blur-sm",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 text-[#93c5fd] flex-shrink-0 mt-0.5"}),(0,r.jsx)("div",{className:"max-h-[150px] overflow-y-auto scrollbar-hide",children:(0,r.jsxs)("p",{className:"text-[#F2F2F2] ",children:["This transaction requires approval to use ",v,". You'll need to confirm two transactions."]})})]}),!P&&!U&&!z&&!R&&!w&&!f&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center p-8 dark:bg-gray-900/80  bg:white/90 backdrop-blur-sm rounded-xl border border-[#a5b4fc]/20",children:[(0,r.jsx)(c.A,{className:"w-10 h-10 text-gray-400 opacity-50 mb-2"}),(0,r.jsx)("p",{className:"text-gray-400 text-center",children:"No active transactions"})]})]})]})};var f=a(47924),k=a(85213),w=a(95488),v=a(21492),j=a(54416),N=a(91788),S=a(44020),_=a(13717),C=a(62525),A=a(42355),E=a(13052),T=a(55868),P=a(35876),F=a(25495),R=a(91659);let z=[{key:"name",label:"Name"},{key:"wallet",label:"Wallet"}],U=e=>{var t;let{employees:a=[],selectedEmployees:l,toggleEmployeeSelection:n,usdToToken:o,selectedTokenSymbol:d,isLoading:c,deleteEmployeeById:m,onEditEmployee:x,exchangeRate:u,handleTransaction:g,isLoadingDerived:p,needsApproval:h,isApproving:y,isSending:b,isWritePending:U,isTxLoading:I,selectedToken:D,refreshEmployees:M}=e,[B,L]=(0,s.useState)(""),[W,H]=(0,s.useState)({key:"name",direction:"asc"}),[O,q]=(0,s.useState)(1),V="amount_".concat(d),Y={key:V,label:"Amount (".concat(d,")")},J=(0,s.useMemo)(()=>[...z,Y,{key:"actions",label:"Actions"}],[d]),[G,K]=(0,s.useState)(()=>new Set(["name",V,"wallet","actions"]));(0,s.useEffect)(()=>{K(e=>{let t=new Set(e);for(e.forEach(e=>{"string"==typeof e&&e.startsWith("amount_")&&e!==V&&t.delete(e)}),!t.has(V)&&t.has("salary")&&t.add(V);t.size<3&&J.length>=3;){let e=J.find(e=>!t.has(e.key));if(e)t.add(e.key);else break}return t})},[V,J]);let[X,Q]=(0,s.useState)(!1),$=(0,s.useRef)(null),[Z,ee]=(0,s.useState)(""),[et,ea]=(0,s.useState)(null),[er,es]=(0,s.useState)(!1),[el,en]=(0,s.useState)(!1),[ei,eo]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=e=>{let t=e.target;if($.current&&!$.current.contains(t)){let e=document.getElementById("columns-button");e&&e.contains(t)||Q(!1)}};return X?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[X]);let ed=(0,s.useMemo)(()=>a?a.filter(e=>Object.entries(e).some(e=>{let[t,a]=e;return("string"==typeof a||"number"==typeof a)&&a.toString().toLowerCase().includes(B.toLowerCase())})):[],[a,B]),ec=(0,s.useMemo)(()=>W.key?[...ed].sort((e,t)=>{let a=e[W.key],r=t[W.key];if("salary"===W.key){let e=parseFloat(String(a).replace(/[^0-9.-]+/g,""))||0,t=parseFloat(String(r).replace(/[^0-9.-]+/g,""))||0;return"asc"===W.direction?e-t:t-e}let s=String(null!=a?a:"").toLowerCase(),l=String(null!=r?r:"").toLowerCase();return"asc"===W.direction?s.localeCompare(l):l.localeCompare(s)}):ed,[ed,W]),em=Math.ceil(ec.length/10),ex=(0,s.useMemo)(()=>ec.slice((O-1)*10,10*O),[ec,O]);(0,s.useEffect)(()=>{q(1)},[B,W]);let eu=e=>{H({key:e.target.value,direction:"asc"})},eg=()=>{W.key&&H(e=>({...e,direction:"asc"===e.direction?"desc":"asc"}))},ep=e=>{K(t=>{let a=new Set(t);return a.has(e)?a.size>3?a.delete(e):console.warn("Cannot hide more columns."):a.add(e),a})},eh=(0,s.useMemo)(()=>0!==ex.length&&ex.every(e=>l.includes(e.wallet)),[ex,l]),ey=(0,s.useMemo)(()=>{let e=ex.filter(e=>l.includes(e.wallet)).length;return e>0&&e<ex.length},[ex,l]),eb=o(a.filter(e=>l.includes(e.wallet)).reduce((e,t)=>e+parseFloat(t.salary||"0"),0).toString()),ef=()=>{if(0===l.length){ee("Please select at least one recipient to export"),setTimeout(()=>ee(""),3e3);return}let e=a.filter(e=>l.includes(e.wallet)),t=["Name","Wallet Address","Amount (".concat(d,")")],r=e.map(e=>[e.name,e.wallet,o(e.salary||"0")]),s=new Blob([[t.join(","),...r.map(e=>e.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(s),i=document.createElement("a"),c=new Date().toISOString().split("T")[0];i.setAttribute("href",n),i.setAttribute("download","bulk-disbursement-".concat(c,".csv")),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),ee("Exported ".concat(l.length," recipient").concat(1!==l.length?"s":"")),setTimeout(()=>ee(""),3e3)};return(0,r.jsxs)("div",{className:"w-[90vw] xl:w-[75vw] h-full bg-transparent dark:text-white text-black shadow-sm rounded-lg overflow-hidden ",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-300 dark:border-gray-700 bg-transparent",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center",children:[(0,r.jsxs)("div",{className:"relative w-full lg:w-auto lg:flex-grow max-w-md",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search recipients...",value:B,onChange:e=>L(e.target.value),className:"w-full px-4 py-2 pl-10 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),(0,r.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"})]}),(0,r.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("select",{id:"sort-select-desktop",value:null!=(t=W.key)?t:"",onChange:eu,className:"px-3 py-2 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"Sort by column",children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),z.map(e=>(0,r.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,r.jsx)("button",{onClick:eg,disabled:!W.key,className:"p-2 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Sort direction: ".concat(W.direction),title:"Sort ".concat("asc"===W.direction?"Descending":"Ascending"),children:"asc"===W.direction?(0,r.jsx)(k.A,{className:"h-4 w-4"}):(0,r.jsx)(w.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{id:"columns-button-desktop",onClick:()=>Q(e=>!e),className:"px-3 py-2 bg-white dark:bg-transparent border border-gray-400 dark:border-gray-600 rounded-md text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 flex items-center gap-2 text-sm","aria-haspopup":"true","aria-expanded":X,children:[(0,r.jsx)(v.A,{className:"w-4 h-4"})," Columns"]}),X&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/30 backdrop-blur-sm",onClick:()=>Q(!1),children:(0,r.jsxs)("div",{ref:$,onClick:e=>e.stopPropagation(),className:"relative w-80 p-4 bg-white/80 dark:bg-black/70 backdrop-blur-lg rounded-lg shadow-xl border border-gray-300 dark:border-gray-600 flex flex-col items-center justify-center",children:[(0,r.jsx)("button",{onClick:()=>Q(!1),className:"absolute top-2 right-2 text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white","aria-label":"Close column menu",children:(0,r.jsx)(j.A,{className:"h-5 w-5"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-3 text-black dark:text-white",children:"Visible Columns"}),(0,r.jsx)("div",{className:"space-y-4",children:J.map(e=>(0,r.jsxs)("label",{className:"flex items-center px-2 py-1.5 cursor-pointer text-lg text-black dark:text-white rounded hover:bg-gray-200 dark:hover:bg-gray-700",children:[(0,r.jsx)("input",{type:"checkbox",checked:G.has(e.key),onChange:()=>ep(e.key),disabled:G.has(e.key)&&G.size<=3,className:"\n                                                                    appearance-none\n                                                                    mr-2 h-4 w-4\n                                                                    rounded-sm\n                                                                    border-2 dark:border-white\n                                                                    bg-transparent\n                                                                    dark:checked:bg-gray-100\n                                                                    dark:checked:border-gray-800 checked:bg-indigo-600\n                                                                    transition-colors duration-200\n                                                                    disabled:opacity-50\n                                                                "}),e.label]},e.key))})]})})]}),(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-transparent rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-indigo-600 dark:text-indigo-300 font-bold text-sm",children:["1 USD = ",u.toFixed(6)," ",d]})}),(0,r.jsxs)("button",{onClick:ef,className:"px-3 py-2 bg-white dark:bg-gray-900/40 border border-gray-400 dark:border-gray-600 rounded-md text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 flex items-center gap-2 text-sm\n                                       ".concat(0===l.length?"cursor-not-allowed opacity-50":"hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Export selected recipients",title:0===l.length?"Select recipients to export":"Export ".concat(l.length," selected recipient(s)"),disabled:0===l.length||c||p,children:[(0,r.jsx)(N.A,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),(0,r.jsx)("span",{children:"Export"})]}),(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-transparent rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-black dark:text-white text-sm",children:[l.length," / ",a.length]})})]}),(0,r.jsxs)("div",{className:"lg:hidden flex items-center gap-3 w-full justify-end",children:[(0,r.jsx)("div",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-400 dark:border-gray-600 flex-shrink-0",children:(0,r.jsxs)("span",{className:"text-black dark:text-white text-sm",children:[l.length," / ",a.length]})}),(0,r.jsxs)(F.W1,{as:"div",className:"relative inline-block text-left",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(F.W1.Button,{className:"inline-flex justify-center w-full rounded-md border border-gray-400 dark:border-gray-600 shadow-sm px-3 py-2 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500",children:[(0,r.jsx)(S.A,{className:"h-5 w-5","aria-hidden":"true"}),(0,r.jsx)("span",{className:"sr-only",children:"More options"})]})}),(0,r.jsx)(R.e,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)(F.W1.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-700 ring-opacity-5 focus:outline-none z-20",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-xs uppercase text-gray-500 dark:text-gray-400",children:"Sort"}),(0,r.jsx)(F.W1.Item,{children:e=>{var t;let{active:a}=e;return(0,r.jsxs)("div",{className:"px-4 py-2 flex items-center gap-2",children:[(0,r.jsxs)("select",{id:"sort-select-mobile",value:null!=(t=W.key)?t:"",onChange:eu,className:"w-full px-3 py-1.5 rounded-md border border-gray-400 dark:border-gray-600 text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 ".concat(a?"bg-gray-100 dark:bg-gray-700":"bg-white dark:bg-gray-800"," text-black dark:text-white"),"aria-label":"Sort by column",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),z.map(e=>(0,r.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),eg()},disabled:!W.key,className:"p-1.5 rounded-md border border-gray-400 dark:border-gray-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 disabled:opacity-50 ".concat(a?"bg-gray-100 dark:bg-gray-700":"bg-white dark:bg-gray-800"," text-black dark:text-white"),"aria-label":"Sort direction: ".concat(W.direction),children:"asc"===W.direction?(0,r.jsx)(k.A,{className:"h-4 w-4"}):(0,r.jsx)(w.A,{className:"h-4 w-4"})})]})}}),(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),(0,r.jsx)(F.W1.Item,{children:e=>{let{active:t}=e;return(0,r.jsxs)("button",{onClick:()=>Q(!0),className:"".concat(t?"bg-gray-100 dark:bg-gray-700":""," group flex w-full items-center rounded-md px-4 py-2 text-sm text-gray-900 dark:text-gray-200"),children:[(0,r.jsx)(v.A,{className:"mr-3 h-5 w-5 text-gray-500 dark:text-gray-400","aria-hidden":"true"}),"Columns"]})}}),(0,r.jsx)(F.W1.Item,{disabled:0===l.length||c||p,children:e=>{let{active:t,disabled:a}=e;return(0,r.jsxs)("button",{onClick:ef,disabled:a,className:"".concat(t&&!a?"bg-gray-100 dark:bg-gray-700":""," ").concat(a?"opacity-50 cursor-not-allowed":""," group flex w-full items-center rounded-md px-4 py-2 text-sm text-gray-900 dark:text-gray-200"),children:[(0,r.jsx)(N.A,{className:"mr-3 h-5 w-5 text-indigo-600 dark:text-indigo-400","aria-hidden":"true"}),"Export Selected"]})}}),(0,r.jsx)(F.W1.Item,{children:e=>{let{active:t}=e;return(0,r.jsxs)("div",{className:"".concat(t?"bg-gray-100 dark:bg-gray-700":""," px-4 py-2 text-sm text-gray-700 dark:text-gray-300"),children:["1 USD = ",u.toFixed(4)," ",d]})}})]})})})]})]})]})}),Z&&(0,r.jsx)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"m-2 p-3 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg text-sm font-medium text-center border border-indigo-300 dark:border-indigo-700",children:Z}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full min-w-[800px] font-sans table-fixed",children:[(0,r.jsx)("thead",{className:"bg-transparent dark:text-white text-black border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-2 sm:px-4 py-3 w-12",children:(0,r.jsx)("input",{type:"checkbox",checked:eh,ref:e=>{e&&(e.indeterminate=ey)},onChange:e=>{let t=e.target.checked;ex.forEach(e=>{let a=l.includes(e.wallet);(t&&!a||!t&&a)&&n(e.wallet)})},disabled:c||p||0===ex.length,className:"\n                                        appearance-none\n                                        h-4 w-4\n                                        rounded-sm\n                                        border-2 border-gray-400 dark:border-white\n                                        bg-transparent\n                                        checked:bg-indigo-600 checked:border-indigo-600\n                                        dark:checked:bg-indigo-500 dark:checked:border-indigo-500\n                                        transition-colors duration-200\n                                        disabled:opacity-50\n                                        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 dark:focus:ring-offset-gray-900\n                                    ","aria-label":"Select all recipients on this page"})}),J.filter(e=>G.has(e.key)).map(e=>(0,r.jsx)("th",{className:"px-2 sm:px-4 py-3 text-left text-xs sm:text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider whitespace-nowrap\n                                            ".concat(e.key===V?"text-right w-32":"text-left","\n                                            ").concat("actions"===e.key?"text-center w-24 sm:w-32":"","\n                                            ").concat("name"===e.key?"w-48":"","\n                                            ").concat("wallet"===e.key?"w-40 hidden lg:table-cell":"","\n                                            ").concat("email"===e.key||"company"===e.key?"hidden md:table-cell":"","\n                                            "),children:e.key===V?"Amount (".concat(d,")"):e.label},e.key))]})}),(0,r.jsxs)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-900 bg-transparent",children:[c&&0===ex.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:G.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"Loading recipients..."})}),!c&&0===ec.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:G.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"No recipients added yet."})}),!c&&ec.length>0&&0===ex.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:G.size+1,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400 text-sm sm:text-base",children:"No recipients match your search/filters."})}),ex.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-800/20 transition-colors cursor-pointer ".concat(l.includes(e.wallet)?"bg-indigo-50 dark:bg-indigo-900/30":""),onClick:()=>n(e.wallet),children:[(0,r.jsx)("td",{className:"px-2 sm:px-4 py-3",onClick:e=>e.stopPropagation(),children:(0,r.jsx)("input",{type:"checkbox",checked:l.includes(e.wallet),onChange:()=>n(e.wallet),disabled:c||p,className:"\n                                            appearance-none\n                                            h-4 w-4\n                                            rounded-sm\n                                            border-2 border-gray-400 dark:border-white\n                                            bg-transparent\n                                            checked:bg-indigo-600 checked:border-indigo-600\n                                            dark:checked:bg-indigo-500 dark:checked:border-indigo-500\n                                            transition-colors duration-200\n                                            disabled:opacity-50\n                                            focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 dark:focus:ring-offset-gray-900\n                                        ","aria-label":"Select recipient ".concat(e.name)})}),J.filter(e=>G.has(e.key)).map(t=>{var a;return(0,r.jsx)("td",{className:"px-2 sm:px-4 py-3 text-sm sm:text-base text-black dark:text-white whitespace-nowrap align-middle\n                                                ".concat(t.key===V?"text-right font-medium":"text-left","\n                                                ").concat("actions"===t.key?"text-center":"","\n                                                ").concat("email"===t.key||"company"===t.key?"hidden md:table-cell":"","\n                                                ").concat("wallet"===t.key?"hidden lg:table-cell text-xs text-gray-500 dark:text-gray-400":"","\n                                                ").concat(t.key===V?"text-indigo-600 dark:text-indigo-400 font-semibold":"","\n                                                ").concat("name"===t.key?"font-medium":"","\n                                                "),title:"wallet"===t.key?e.wallet:void 0,children:"actions"===t.key?(0,r.jsxs)("div",{className:"flex justify-center space-x-1 sm:space-x-2",onClick:e=>e.stopPropagation(),children:[x&&(0,r.jsx)("button",{onClick:()=>x(e),className:"text-yellow-600 dark:text-yellow-400 hover:text-yellow-800 dark:hover:text-yellow-300 p-1 rounded disabled:opacity-50",disabled:c||p,title:"Edit recipient",children:(0,r.jsx)(_.A,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:()=>m(e.wallet),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-1 rounded disabled:opacity-50",disabled:c||p,title:"Delete recipient",children:(0,r.jsx)(C.A,{className:"h-4 w-4"})})]}):"name"===t.key?(0,r.jsx)("div",{className:"flex items-center gap-2",children:e.name||"N/A"}):"wallet"===t.key?"".concat(e.wallet.substring(0,6),"...").concat(e.wallet.substring(e.wallet.length-4)):t.key===V?o(e.salary||"0"):null!=(a=e[t.key])?a:"N/A"},"".concat(e.wallet,"-").concat(t.key))})]},e.wallet||t))]}),l.length>0&&(0,r.jsx)("tfoot",{children:(0,r.jsx)("tr",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:(0,r.jsxs)("td",{colSpan:G.size+1,className:"px-2 sm:px-4 py-2 sm:py-3 text-right text-gray-600 dark:text-gray-300 font-medium text-xs sm:text-sm",children:["Total (",l.length,"): ",eb," ",d]})})})]})}),(0,r.jsx)("div",{className:"px-4 py-3 border-t border-gray-300 dark:border-gray-700 bg-transparent",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-sm text-black dark:text-white order-2 md:order-1 text-center md:text-left",children:["Showing"," ",(0,r.jsx)("span",{className:"font-medium",children:ec.length>0?Math.min((O-1)*10+1,ec.length):0})," ","to"," ",(0,r.jsx)("span",{className:"font-medium",children:Math.min(10*O,ec.length)})," ","of"," ",(0,r.jsx)("span",{className:"font-medium",children:ec.length})," ","entries ",B&&"(filtered)"]}),em>1&&(0,r.jsxs)("div",{className:"inline-flex items-center -space-x-px rounded-md shadow-sm order-1 md:order-2",children:[(0,r.jsx)("button",{onClick:()=>q(e=>Math.max(1,e-1)),disabled:1===O||c||p,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-600 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Previous page",children:(0,r.jsx)(A.A,{className:"h-5 w-5"})}),(0,r.jsxs)("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-black dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 bg-white dark:bg-gray-800",children:["Page ",O," of ",em]}),(0,r.jsx)("button",{onClick:()=>q(e=>Math.min(em,e+1)),disabled:O===em||c||p,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-600 dark:text-gray-300 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Next page",children:(0,r.jsx)(E.A,{className:"h-5 w-5"})})]}),(0,r.jsx)(i.P.div,{className:"w-[80%] sm:w-[60%] md:w-auto order-3 mt-4 md:mt-0",whileHover:{scale:l.length>0&&!p?1.02:1},whileTap:{scale:l.length>0&&!p?.98:1},transition:{duration:.2},children:(0,r.jsxs)("button",{onClick:g,disabled:p||0===l.length||c,className:"w-full px-1 py-2 sm:px-6 sm:py-3 rounded-xl font-medium sm:text-base text-sm transition-all flex items-center justify-center gap-3\n                      ".concat(p||0===l.length||c?"bg-gray-300 dark:bg-gray-900/50 text-gray-500 dark:text-gray-300 cursor-not-allowed border border-gray-400 dark:border-gray-600":"bg-gradient-to-r from-[#4890e9] to-[#3b82f6] text-white hover:from-[#3b82f6] hover:to-[#2563eb] shadow-lg shadow-[#3b82f6]/20 hover:shadow-[#3b82f6]/30"),children:[(0,r.jsx)(T.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:y?"Approving ".concat(d||(null==D?void 0:D.symbol),"..."):b||U||I?"Processing...":0===l.length?"Select Recipients":h&&(null==D?void 0:D.address)!=="NATIVE_ADDRESS"?"Approve & Send":"Pay Selected (".concat(l.length,")")})]})})]})}),(0,r.jsx)(P.A,{isOpen:er,onClose:()=>{es(!1),ea(null)},employee:et})]})},I=e=>{let{exchangeRate:t=1,selectedTokenSymbol:a,employees:s,isConnected:l,selectedEmployees:n,toggleEmployeeSelection:c,toggleAllEmployees:m,allEmployeesSelected:x,handleTransaction:u,usdToToken:g,isLoadingDerived:p,needsApproval:h,isApproving:y,isSending:f,isWritePending:k,isTxLoading:w,isTxSuccess:v,isTxError:j,txHash:N,txError:S,approvalTxHash:_,showPaymentStatus:C,hasTransactionActivity:A,getExplorerUrl:E,selectedToken:T,handleAddEmployeeClick:P,handleEditEmployee:F,deleteEmployeeById:R,selectedChain:z,handleAutoClose:I}=e;return(0,r.jsx)("div",{className:"max-h-screen w-[90vw] flex flex-col items-center justify-center md:mt-10",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(i.P.div,{className:"space-y-6",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,r.jsx)(o.N,{children:C&&A&&(0,r.jsx)(i.P.div,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:24},exit:{opacity:0,height:0,marginTop:0},transition:{duration:.3},children:(0,r.jsx)(b,{txError:S,isWritePending:k,isTxLoading:w,isTxSuccess:v,isTxError:j,approvalTxHash:_,isApproving:y,txHash:N,getExplorerUrl:E,needsApproval:h,selectedTokenSymbol:null==T?void 0:T.symbol,selectedEmployeesCount:n.length,chainId:z.id,onAutoClose:I})})})}),(0,r.jsx)(i.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5},children:l?(0,r.jsx)(U,{employees:s,selectedEmployees:n,toggleEmployeeSelection:c,usdToToken:g,selectedTokenSymbol:a||(null==T?void 0:T.symbol),isLoading:p,exchangeRate:t,deleteEmployeeById:R,onEditEmployee:F,handleTransaction:u,isLoadingDerived:p,needsApproval:h,isApproving:y,isSending:f,isWritePending:k,isTxLoading:w,selectedToken:T}):(0,r.jsxs)(i.P.div,{className:"dark:bg-black rounded-lg p-12 border flex flex-col items-center justify-center space-y-6 text-center",style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},children:[(0,r.jsx)("div",{className:"p-4 bg-[#60DFCD]/10 rounded-full border border-[#60DFCD]/30",children:(0,r.jsx)(d.A,{className:"w-12 h-12 text-[#60DFCD]"})}),(0,r.jsxs)("div",{className:"space-y-2 max-w-md",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Connect Your Wallet"}),(0,r.jsx)("p",{className:"text-[#486581]",children:"Connect your wallet to start managing employee payments with cryptocurrency"})]})]})})]})})};var D=a(82714),M=a(89852),B=a(53999),L=a(12168),W=a(29869),H=a(64261),O=a(94631),q=a(5196),V=a(75641);let Y=e=>{let{isOpen:t,onClose:a,onUploadSuccess:l,onRecipientsUploaded:n}=e,[d,c]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),[p,h]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null),f=(0,s.useRef)(null),k=e=>{e.preventDefault(),e.stopPropagation(),c("dragenter"===e.type||"dragover"===e.type)},w=e=>{var t;b(null);let a=null==(t=e.name.split(".").pop())?void 0:t.toLowerCase();return a&&["csv","xls","xlsx"].includes(a)?e.size>5242880?void b({success:!1,message:"File too large",details:["Maximum file size is 5MB"]}):void u(e):void b({success:!1,message:"Invalid file format",details:["Please upload a CSV or Excel file (.csv, .xls, .xlsx)"]})},v=async()=>{if(!m)return void b({success:!1,message:"No file selected",details:["Please select a file to upload"]});try{h(!0),b(null);let s=(await m.text()).split("\n").filter(e=>e.trim());if(s.length<2)throw Error("CSV file must contain at least a header and one data row");let i=s[0].split(",").map(e=>e.trim().toLowerCase()),o=["name","wallet address","amount (usd)"].filter(e=>!i.some(t=>t.includes(e.replace(" (usd)",""))||t.includes("amount")));if(o.length>0)throw Error("Missing required columns: ".concat(o.join(", ")));let d=[],c=[];for(let a=1;a<s.length;a++){var e,t,r;let l=s[a].split(",").map(e=>e.trim());if(l.length!==i.length){c.push("Row ".concat(a+1,": Column count mismatch"));continue}let n=i.findIndex(e=>e.includes("name")),o=i.findIndex(e=>e.includes("wallet")),m=i.findIndex(e=>e.includes("amount")),x=null==(e=l[n])?void 0:e.replace(/['"]/g,""),u=null==(t=l[o])?void 0:t.replace(/['"]/g,""),g=null==(r=l[m])?void 0:r.replace(/['"]/g,"");if(!x||!u||!g){c.push("Row ".concat(a+1,": Missing required data (name, wallet, or amount)"));continue}if(!u.match(/^0x[a-fA-F0-9]{40}$/)){c.push("Row ".concat(a+1,": Invalid wallet address format"));continue}if(isNaN(parseFloat(g))){c.push("Row ".concat(a+1,": Invalid amount format"));continue}d.push({name:x,wallet:u,salary:g,designation:"",email:"",company:""})}if(0===d.length)throw Error("No valid recipients found in CSV file");let x=["Successfully parsed ".concat(d.length," recipient(s)"),...c.length>0?["".concat(c.length," row(s) had errors and were skipped")]:[]];b({success:!0,message:"Upload successful",details:x}),n&&n(d),setTimeout(()=>{l(),setTimeout(()=>a(),1500)},1500)}catch(e){console.error("Upload error:",e),b({success:!1,message:"Upload failed",details:["File processing failed. Please try again."]})}finally{h(!1)}};return t?(0,r.jsx)(o.N,{children:(0,r.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 dark:bg-black/90 bg-white/90 z-50 p-4 overflow-y-auto",onClick:a,children:(0,r.jsx)("div",{className:"relative w-full min-h-full flex items-center justify-center py-6",children:(0,r.jsx)(V.F,{children:(0,r.jsxs)(i.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"bg-transparent relative w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl",children:[(0,r.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-800/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,r.jsx)("div",{className:"p-2 sm:p-2.5 rounded-full bg-gray-100 dark:bg-gray-800/20 shadow-inner shadow-gray-200/50 dark:shadow-gray-700/10",children:(0,r.jsx)(W.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600 dark:text-gray-300"})}),(0,r.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black dark:text-white tracking-tight",children:"Bulk Upload Recipients"})]}),(0,r.jsx)(i.P.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:a,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5","aria-label":"Close modal",children:(0,r.jsx)(j.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-900/40 backdrop-blur-sm rounded-xl p-4 sm:p-5 border border-gray-200 dark:border-gray-800/60 flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-gray-200 dark:bg-gray-800/50 flex items-center justify-center border border-gray-300 dark:border-gray-700/50 flex-shrink-0",children:(0,r.jsx)(H.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700 dark:text-gray-300"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-black dark:text-white text-base sm:text-lg mb-1",children:"Download Template"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base mb-2 sm:mb-3",children:"Use our template to ensure your bulk disbursement data is formatted correctly"}),(0,r.jsxs)(i.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{let e=new Blob(["name,wallet,amount,description\nAlice Johnson,0x1234567890abcdef1234567890abcdef12345678,100.00,Marketing Services\nBob Smith,0xabcdef1234567890abcdef1234567890abcdef12,250.00,Development Work\nCarol Davis,0x9876543210fedcba9876543210fedcba98765432,150.00,Content Creation"],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("hidden",""),a.setAttribute("href",t),a.setAttribute("download","bulk_disbursement_template.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex items-center text-sm sm:text-base",children:[(0,r.jsx)(N.A,{className:"w-4 h-4 mr-1.5 sm:mr-2"}),(0,r.jsx)("span",{className:"font-medium",children:"Download Template"})]})]})]}),(0,r.jsxs)("div",{className:"relative border-2 border-dashed rounded-xl p-6 sm:p-8 text-center transition-colors backdrop-blur-sm ".concat(d?"border-gray-500 dark:border-gray-400 bg-gray-50 dark:bg-gray-800/30":m?"border-gray-400 dark:border-gray-500/40 bg-gray-50/50 dark:bg-gray-800/20":"border-gray-300 dark:border-gray-700/50 hover:border-gray-400 dark:hover:border-gray-600/70 bg-gray-50/50 dark:bg-gray-900/20"),onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files.length>0&&w(e.dataTransfer.files[0])},children:[(0,r.jsx)("input",{ref:f,type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{e.target.files&&e.target.files.length>0&&w(e.target.files[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Upload CSV or Excel file",title:"Upload recipient data file",disabled:p}),(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto flex items-center justify-center border ".concat(m?"bg-gray-200 dark:bg-gray-800/40 border-gray-300 dark:border-gray-700/50":"bg-gray-100 dark:bg-gray-900/60 border-gray-300 dark:border-gray-700/50"),children:p?(0,r.jsx)(O.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400 animate-spin"}):m?(0,r.jsx)(q.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400"}):(0,r.jsx)(W.A,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-600 dark:text-gray-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-base sm:text-lg text-black dark:text-white mb-1 sm:mb-2 break-words",children:m?m.name:"Drop your file here"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:m?"".concat((m.size/1024).toFixed(1),"KB - ").concat(m.type):"Support for CSV and Excel files"}),m&&!p&&(0,r.jsx)(i.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{u(null),b(null),f.current&&(f.current.value="")},className:"text-red-600 dark:text-red-400 text-xs sm:text-sm hover:text-red-700 dark:hover:text-red-300 transition-colors mt-2 sm:mt-3",children:"Remove file"})]})]})]}),y&&(0,r.jsx)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl p-4 sm:p-5 border ".concat(y.success?"bg-green-50 dark:bg-green-900/10 border-green-300 dark:border-green-700/20":"bg-red-50 dark:bg-red-400/10 border-red-300 dark:border-red-400/20"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full ".concat(y.success?"bg-green-100 dark:bg-green-900/10":"bg-red-100 dark:bg-red-400/10"),children:y.success?(0,r.jsx)(q.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 dark:text-green-300"}):(0,r.jsx)(x.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 dark:text-red-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm sm:text-base ".concat(y.success?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-400"),children:y.message}),y.details&&y.details.length>0&&(0,r.jsx)("ul",{className:"list-disc pl-4 sm:pl-5 mt-1.5 sm:mt-2 space-y-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:y.details.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]})]})}),(0,r.jsx)("div",{className:"p-4 sm:p-5 rounded-lg border border-gray-200 dark:border-gray-700/20 bg-gray-50/50 dark:bg-gray-800/10 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,r.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-gray-200 dark:bg-gray-800/30 mt-0.5 flex-shrink-0",children:(0,r.jsx)(g.A,{className:"w-4 h-4 text-gray-600 dark:text-gray-300 flex-shrink-0"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-black dark:text-white font-medium text-sm sm:text-base mb-1.5 sm:mb-2",children:"Important Guidelines"}),(0,r.jsxs)("ul",{className:"list-disc pl-4 sm:pl-5 space-y-1 text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:[(0,r.jsx)("li",{children:"Required fields: name, wallet, amount"}),(0,r.jsx)("li",{children:"Wallet addresses must be valid Ethereum addresses"}),(0,r.jsx)("li",{children:"Maximum 100 recipients per upload"}),(0,r.jsx)("li",{children:"File size should not exceed 5MB"})]})]})]})})]}),(0,r.jsx)("div",{className:"px-4 py-4 sm:px-6 sm:py-5 border-t border-gray-200 dark:border-gray-800/60 bg-gray-50/50 dark:bg-transparent backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row justify-center sm:justify-end gap-3 sm:gap-4",children:[(0,r.jsx)(i.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl border border-gray-300 dark:border-gray-700/80 bg-white dark:bg-gray-800/50 text-black dark:text-gray-300   hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-black dark:hover:text-white hover:border-gray-400 dark:hover:border-gray-600 transition-all duration-200 backdrop-blur-sm text-sm sm:text-base",disabled:p,children:"Cancel"}),(0,r.jsx)(i.P.button,{whileHover:p||!m||(null==y?void 0:y.success)?{}:{scale:1.02},whileTap:p||!m||(null==y?void 0:y.success)?{}:{scale:.98},onClick:v,disabled:!m||p||(null==y?void 0:y.success)===!0,className:"w-full sm:w-auto px-4 py-2.5 sm:px-6 sm:py-3 rounded-xl transition-all font-medium text-sm sm:text-base\n                    ".concat(!m||p||(null==y?void 0:y.success)===!0?"bg-gradient-to-r from-gray-400/70 to-gray-500/70 dark:from-gray-600/40 dark:to-gray-700/40 text-white/70 cursor-not-allowed":"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 dark:from-gray-600 dark:to-gray-700 dark:hover:from-gray-500 dark:hover:to-gray-600 text-white shadow-lg shadow-gray-500/20 dark:shadow-gray-800/20 hover:shadow-gray-500/30 dark:hover:shadow-gray-800/30"),children:p?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(O.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):(null==y?void 0:y.success)?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(q.A,{className:"w-4 h-4 mr-2"}),"Uploaded"]}):"Upload & Process"})]})})]})})})})}):null};var J=a(42500);let G=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"absolute inset-x-0 -bottom-px block h-px w-full bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-0 transition duration-500 group-hover/btn:opacity-100"}),(0,r.jsx)("span",{className:"absolute inset-x-10 -bottom-px mx-auto block h-px w-1/2 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-0 blur-sm transition duration-500 group-hover/btn:opacity-100"})]}),K=e=>{let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,B.cn)("flex w-full flex-col space-y-2",a),children:t})},X=e=>{let{isOpen:t,onClose:a,onAddEmployee:l,onUpdateEmployee:n,editEmployee:d,onUploadSuccess:c}=e,{user:m}=(0,J.A)(),[x,u]=(0,s.useState)(!1),[g,p]=(0,s.useState)({}),[h,y]=(0,s.useState)({name:"",designation:"",wallet:"",salary:"",email:"",company:""}),b=!!d;(0,s.useEffect)(()=>{d?y({name:d.name,designation:"",wallet:d.wallet,salary:d.salary,email:"",company:""}):t&&(y({name:"",designation:"",wallet:"",salary:"",email:"",company:""}),p({}))},[d,t]);let f=e=>{let{name:t,value:a}=e.target;y(e=>({...e,[t]:a})),g[t]&&p(e=>({...e,[t]:void 0}))};return t?(0,r.jsx)(o.N,{children:t&&(0,r.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 left-0 w-screen h-screen bg-black/50 z-50",onClick:a,children:[(0,r.jsxs)(i.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"flex relative w-full h-full items-center justify-center bg-white/90 dark:bg-black/90 md:p-4",children:[(0,r.jsx)(L.n,{}),(0,r.jsxs)(i.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"shadow-input relative w-full md:max-w-4xl rounded-none bg-white md:rounded-xl p-4 md:p-8 dark:bg-black",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-200",children:b?"Edit Recipient":"Add New Recipient"}),(0,r.jsx)("button",{onClick:a,"aria-label":"Close",children:(0,r.jsx)(j.A,{className:"text-neutral-500 hover:text-red-500"})})]}),(0,r.jsxs)("form",{className:"my-8",onSubmit:e=>{e.preventDefault();let t={};if(h.name.trim()||(t.name="Recipient name is required"),h.salary.trim()||(t.salary="Amount is required"),h.wallet.trim()||(t.wallet="Wallet address is required"),Object.keys(t).length)return void p(t);b&&n?n(d.wallet,h):l(h),a()},children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)(K,{children:[(0,r.jsx)(D.J,{htmlFor:"name",children:"Recipient Name"}),(0,r.jsx)(M.p,{id:"name",name:"name",placeholder:"John Doe",value:h.name,onChange:f,className:(0,B.cn)(g.name&&"border-red-500 focus:ring-red-500")}),g.name&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:g.name})]})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)(K,{children:[(0,r.jsx)(D.J,{htmlFor:"salary",children:"Amount (USD)"}),(0,r.jsx)(M.p,{id:"salary",name:"salary",placeholder:"100.00",value:h.salary,onChange:f,className:(0,B.cn)(g.salary&&"border-red-500 focus:ring-red-500")}),g.salary&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:g.salary})]})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)(K,{children:[(0,r.jsx)(D.J,{htmlFor:"wallet",children:"Wallet Address"}),(0,r.jsx)(M.p,{id:"wallet",name:"wallet",placeholder:"0x...",value:h.wallet,onChange:f,className:(0,B.cn)(g.wallet&&"border-red-500 focus:ring-red-500")}),g.wallet&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:g.wallet})]})}),(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)("div",{className:"flex md:flex-row flex-col md:space-x-4 space-y-3",children:[(0,r.jsxs)("button",{type:"button",onClick:a,className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:["Cancel",(0,r.jsx)(G,{})]}),(0,r.jsxs)("button",{type:"submit",className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:[b?"Update Recipient":"Add Recipient",(0,r.jsx)(G,{})]})]}),(0,r.jsx)("div",{className:"w-full flex items-center justify-center",children:!b&&(0,r.jsxs)("button",{type:"button",onClick:()=>u(!0),className:"group/btn shadow-input relative flex h-10 w-80 items-center justify-center space-x-2 rounded-md bg-gray-800 px-4 font-medium text-black dark:bg-zinc-900 dark:shadow-[0px_0px_1px_1px_#262626]",children:[(0,r.jsx)(W.A,{className:"h-4 w-4 text-neutral-200 dark:text-neutral-300"}),(0,r.jsx)("span",{className:"text-sm text-neutral-200 dark:text-neutral-300",children:"Bulk Upload"}),(0,r.jsx)(G,{})]})})]})]})]})]}),(0,r.jsx)(Y,{isOpen:x,onClose:()=>u(!1),onUploadSuccess:c})]},"modal-overlay")}):null};var Q=a(31530),$=a(67703),Z=a(21988),ee=a(84356);let et=JSON.parse('{"H":[{"inputs":[],"name":"InsufficientAllowance","type":"error"},{"inputs":[],"name":"InsufficientBalance","type":"error"},{"inputs":[],"name":"LengthMismatch","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"inputs":[],"name":"RefundFailed","type":"error"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"SafeERC20FailedOperation","type":"error"},{"inputs":[],"name":"TransferFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"totalRecipients","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalAmount","type":"uint256"}],"name":"BulkTransferExecuted","type":"event"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address[]","name":"recipients","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"name":"bulkTransfer","outputs":[],"stateMutability":"payable","type":"function"}]}');var ea=a(14493),er=a(2145),es=a(18224),el=a(53031),en=a(89769),ei=a(84661),eo=a(13857),ed=a(75162),ec=a(13244),em=a(56680),ex=a(12509),eu=a(57340),eg=a(6874),ep=a.n(eg);let eh=(0,em.Ay)(()=>{let[e,t]=(0,s.useState)(!0),[a,i]=(0,s.useState)(1),[o,d]=(0,s.useState)(""),[c,m]=(0,s.useState)(!1),[x,u]=(0,s.useState)(!1),[g,p]=(0,s.useState)([]),[h,y]=(0,s.useState)(null),[b,f]=(0,s.useState)(!0),[k,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(null),[N,S]=(0,s.useState)(""),[_,C]=(0,s.useState)([]),[A,E]=(0,s.useState)(""),[T,P]=(0,s.useState)(!1),[F,R]=(0,s.useState)(!1),[z,U]=(0,s.useState)(!1),[D,M]=(0,s.useState)(void 0),[B,L]=(0,s.useState)(!1),[W,H]=(0,s.useState)(Z.Y6[0]),[O,q]=(0,s.useState)(ee.f6[Z.Y6[0].id][0]),[V,J]=(0,s.useState)(void 0),{address:G,isConnected:K,chainId:em}=(0,er.F)(),ex=(0,es.i)(),eg=(0,el.U)(),eh=()=>(0,eo.G2)(ex);(0,s.useEffect)(()=>{console.log("=== BULK TRANSFER NETWORK DEBUG ==="),console.log("Chain ID:",ex),console.log("BulkTransfer Contract Address:",eh()),console.log("Is Mainnet (39):",39===ex),console.log("Is Testnet (2484):",2484===ex)},[ex]);let ey=!!eh(),eb=39===ex?"U2U Mainnet":2484===ex?"U2U Testnet":"Unknown Network",{writeContractAsync:ef,isPending:ek,data:ew}=(0,en.x)(),{isLoading:ev,isSuccess:ej,isError:eN}=(0,ei.g)({hash:ew}),[eS,e_]=(0,s.useState)(void 0);(0,s.useEffect)(()=>{ew?J(ew):eS&&J(eS)},[ew,eS]);let eC=F||z||ek||ev,{data:eA,refetch:eE}=(0,ec.Q)({address:(null==O?void 0:O.address)!==Z.Fm?null==O?void 0:O.address:void 0,abi:ea.xw,functionName:"allowance",args:[G,eh()],chainId:ex,query:{enabled:K&&!!O&&!!G&&(null==O?void 0:O.address)!==Z.Fm&&!!eh()}}),eT=async()=>{eE()};(0,s.useEffect)(()=>{p([]),f(!1),S("Bulk Disbursement")},[]),(0,s.useEffect)(()=>{if(em){let t=Z.Y6.find(e=>e.id===em);if(t){var e;H(t),(null==(e=ee.f6[t.id])?void 0:e.length)>0&&q((o?ee.f6[t.id].find(e=>e.symbol===o):void 0)||ee.f6[t.id][0])}}},[em,o]),(0,s.useEffect)(()=>{if(o&&W){let e=(ee.f6[ex]||[]).find(e=>e.symbol===o);e&&q(e)}},[o,W]),(0,s.useEffect)(()=>{let e=null;return A&&(e=setTimeout(()=>{E("")},6e3)),()=>{e&&clearTimeout(e)}},[A]);let eP=e=>(parseFloat(e)*a).toFixed(6),eF=()=>g.filter(e=>_.includes(e.wallet)).reduce((e,t)=>e+parseFloat(t.amount),0),eR=()=>{let e=g.filter(e=>_.includes(e.wallet));return{recipients:e.map(e=>e.wallet),amounts:e.map(e=>{let t=eP(e.amount);return(0,$.XS)(t,O.decimals)})}};(0,s.useEffect)(()=>{if((null==O?void 0:O.address)!==Z.Fm&&void 0!==eA&&_.length>0)try{let e=eF(),t=(0,$.XS)(eP(e.toString()),O.decimals);P(eA<t)}catch(e){}else P(!1)},[eA,_,O]),(0,s.useEffect)(()=>{K&&O&&G&&(null==O?void 0:O.address)!==Z.Fm&&eT()},[null==O?void 0:O.address,null==W?void 0:W.id,eT,K,G,O]);let ez=_.length===g.length,eU=async(e,t,a,r)=>{U(!0),console.log("Sending final transaction...");try{if(O.address===Z.Fm){console.log("Sending native token transfer");let s=await ef({address:e,abi:et.H,functionName:"bulkTransfer",args:[Z.Fm,t,a],value:r,gas:BigInt(4e5),chainId:ex});J(s),await eI(s)}else{console.log("Sending ERC20 token transfer");let r=await ef({address:e,abi:et.H,functionName:"bulkTransfer",args:[O.address,t,a],gas:BigInt(4e5),chainId:ex});J(r),await eI(r)}console.log("Transaction sent successfully")}catch(e){throw console.error("Error in sendTransactionAfterApproval:",e),e}finally{U(!1)}},eI=async e=>{if(console.log("Transaction completed with hash:",e),!e)return void console.error("Missing transaction hash");Q.oR.success("Payment transaction completed successfully"),J(void 0),e_(void 0),M(void 0)},eD=async()=>{if(E(""),L(!0),0===_.length)return void E("Please select at least one recipient to pay");try{let e=eh();if(!e)return void E("No transfer contract available for this network");let{recipients:t,amounts:a}=eR(),r=a.reduce((e,t)=>e+t,BigInt(0));if(O.address!==Z.Fm&&T){R(!0);try{let s=await ef({address:O.address,abi:ea.xw,functionName:"approve",args:[e,r],chainId:ex,gas:BigInt(4e5)});M(s);let l=await (0,ed.n)(eg,{chainId:ex,hash:s});if("success"!==l.status)throw Error("Approval transaction failed");R(!1),await eU(e,t,a,r)}catch(e){R(!1),E(e.message||"Approval failed");return}}else await eU(e,t,a,r)}catch(e){U(!1),E(e.message||"Transaction failed")}},eM=()=>{y(null),m(!0)},eB=async()=>{if(v)try{p(e=>e.filter(e=>e.wallet!==v)),Q.oR.success("Recipient deleted successfully")}catch(e){console.error("Failed to delete recipient:",e),Q.oR.error("Failed to delete recipient")}finally{w(!1),j(null)}},eL=e=>({name:e.name,wallet:e.wallet,email:"",salary:e.amount,designation:e.description||"",company:"Bulk Disbursement"}),eW=e=>({name:e.name,wallet:e.wallet,amount:e.salary,description:e.designation}),eH=e=>{y(eL(e)),m(!0)},eO=async e=>{try{let t=eW(e);p(e=>[...e,t]),m(!1),Q.oR.success("Recipient added successfully")}catch(e){console.error("Failed to add recipient:",e),Q.oR.error("Failed to add recipient")}},eq=async e=>{try{let t=e.map(e=>eW(e));p(e=>[...e,...t]),Q.oR.success("Successfully added ".concat(e.length," recipient(s)"))}catch(e){console.error("Failed to add bulk recipients:",e),Q.oR.error("Failed to add bulk recipients")}},eV=async(e,t)=>{try{let a=eW(t);p(t=>t.map(t=>t.wallet===e?{...t,...a}:t)),m(!1),y(null),Q.oR.success("Recipient updated successfully")}catch(e){console.error("Failed to update recipient:",e),Q.oR.error("Failed to update recipient")}},eY=eC||ej||eN||!!A||!!D||!!V;return(0,r.jsxs)("div",{className:"relative h-screen w-screen dark:text-white text-black p-6 z-10",children:[(0,r.jsx)("div",{className:"absolute top-4 left-4",children:(0,r.jsx)(ep(),{href:"/",children:(0,r.jsx)(eu.A,{className:"text-black dark:hover:text-gray-200 hover:text-gray-800 dark:text-white",size:30})})}),(0,r.jsxs)("div",{className:"flex flex-col max-w-screen max-h-screen items-center m-10",children:[(0,r.jsx)(l.A,{onConfigurePayments:()=>t(!0),onAddEmployee:eM,onBulkUpload:()=>{u(!0)}}),!ey&&(0,r.jsx)("div",{className:"w-full max-w-6xl mb-6",children:(0,r.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-3",children:""}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Bulk Transfer Contract Not Available"}),(0,r.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:["The bulk transfer contract is not deployed on ",eb,". Please switch to U2U Mainnet or U2U Testnet to use this feature."]})]})]})})}),(0,r.jsx)(I,{exchangeRate:a,selectedTokenSymbol:o,employees:g.map(eL),isConnected:K,selectedEmployees:_,toggleEmployeeSelection:e=>{C(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},toggleAllEmployees:()=>{ez?C([]):C(g.map(e=>e.wallet))},allEmployeesSelected:ez,handleTransaction:eD,usdToToken:eP,isLoadingDerived:eC,needsApproval:T,isApproving:F,isSending:z,isWritePending:ek,isTxLoading:ev,isTxSuccess:ej,isTxError:eN,txHash:V,txError:A,approvalTxHash:D,showPaymentStatus:B,hasTransactionActivity:eY,getExplorerUrl:e=>{var t,a;let r=null==(a=W.blockExplorers)||null==(t=a.default)?void 0:t.url;return r?"".concat(r,"/tx/").concat(e):"#"},selectedToken:O,handleAddEmployeeClick:eM,handleEditEmployee:e=>eH(eW(e)),deleteEmployeeById:e=>{j(e),w(!0)},selectedChain:W,handleAutoClose:()=>{L(!1),M(void 0),E(""),e_(void 0),J(void 0),C([])}}),(0,r.jsx)(n.A,{isOpen:e,onClose:()=>t(!1),onExchangeRateUpdate:(e,t)=>{i(e),d(t)}}),(0,r.jsx)(X,{isOpen:c,onClose:()=>{m(!1),y(null)},onAddEmployee:eO,onUpdateEmployee:eV,editEmployee:h,onUploadSuccess:()=>{u(!1)}}),(0,r.jsx)(Y,{isOpen:x,onClose:()=>u(!1),onUploadSuccess:()=>{u(!1)},onRecipientsUploaded:eq}),k&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto dark:bg-black dark:text-white text-black backdrop-blur-sm flex items-center justify-center",children:(0,r.jsxs)("div",{className:"dark:bg-[#1A1F2E] rounded-lg p-6 w-full max-w-md mx-4 shadow-xl border border-gray-700 animate-fade-in",children:[(0,r.jsx)("h3",{className:"text-xl font-medium dark:text-white mb-4",children:"Confirm Deletion"}),(0,r.jsx)("p",{className:"dark:text-gray-300 mb-6",children:"Are you sure you want to delete this recipient? This action cannot be undone."}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{onClick:()=>{w(!1),j(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white transition-colors duration-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:eB,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white transition-colors duration-200",children:"Delete"})]})]})})]})]})},(0,r.jsx)(ex.A,{}))},75641:(e,t,a)=>{"use strict";a.d(t,{F:()=>b});var r=a(15933),s=a(95155),l=a(32942),n=a(55955),i=a(55615),o=a(12115),d=a(53999),c=a(83816),m=a(67558),x=a(43264);let u=e=>{let{animationSpeed:t=.4,opacities:a=[.3,.3,.3,.5,.5,.5,.8,.8,.8,1],colors:r=[[0,255,255]],containerClassName:l,dotSize:n,showGradient:i=!0}=e;return(0,s.jsxs)("div",{className:(0,d.cn)("h-full relative bg-white w-full",l),children:[(0,s.jsx)("div",{className:"h-full w-full",children:(0,s.jsx)(g,{colors:null!=r?r:[[0,255,255]],dotSize:null!=n?n:3,opacities:null!=a?a:[.3,.3,.3,.5,.5,.5,.8,.8,.8,1],shader:"\n              float animation_speed_factor = ".concat(t.toFixed(1),";\n              float intro_offset = distance(u_resolution / 2.0 / u_total_size, st2) * 0.01 + (random(st2) * 0.15);\n              opacity *= step(intro_offset, u_time * animation_speed_factor);\n              opacity *= clamp((1.0 - step(intro_offset + 0.1, u_time * animation_speed_factor)) * 1.25, 1.0, 1.25);\n            "),center:["x","y"]})}),i&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 to-[84%]"})]})},g=e=>{let{colors:t=[[0,0,0]],opacities:a=[.04,.04,.04,.04,.04,.08,.08,.08,.08,.14],totalSize:r=4,dotSize:l=2,shader:n="",center:i=["x","y"]}=e,d=o.useMemo(()=>{let e=[t[0],t[0],t[0],t[0],t[0],t[0]];return 2===t.length?e=[t[0],t[0],t[0],t[1],t[1],t[1]]:3===t.length&&(e=[t[0],t[0],t[1],t[1],t[2],t[2]]),{u_colors:{value:e.map(e=>[e[0]/255,e[1]/255,e[2]/255]),type:"uniform3fv"},u_opacities:{value:a,type:"uniform1fv"},u_total_size:{value:r,type:"uniform1f"},u_dot_size:{value:l,type:"uniform1f"}}},[t,a,r,l]);return(0,s.jsx)(h,{source:"\n        precision mediump float;\n        in vec2 fragCoord;\n\n        uniform float u_time;\n        uniform float u_opacities[10];\n        uniform vec3 u_colors[6];\n        uniform float u_total_size;\n        uniform float u_dot_size;\n        uniform vec2 u_resolution;\n        out vec4 fragColor;\n        float PHI = 1.61803398874989484820459;\n        float random(vec2 xy) {\n            return fract(tan(distance(xy * PHI, xy) * 0.5) * xy.x);\n        }\n        float map(float value, float min1, float max1, float min2, float max2) {\n            return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n        }\n        void main() {\n            vec2 st = fragCoord.xy;\n            ".concat(i.includes("x")?"st.x -= abs(floor((mod(u_resolution.x, u_total_size) - u_dot_size) * 0.5));":"","\n            ").concat(i.includes("y")?"st.y -= abs(floor((mod(u_resolution.y, u_total_size) - u_dot_size) * 0.5));":"","\n      float opacity = step(0.0, st.x);\n      opacity *= step(0.0, st.y);\n\n      vec2 st2 = vec2(int(st.x / u_total_size), int(st.y / u_total_size));\n\n      float frequency = 5.0;\n      float show_offset = random(st2);\n      float rand = random(st2 * floor((u_time / frequency) + show_offset + frequency) + 1.0);\n      opacity *= u_opacities[int(rand * 10.0)];\n      opacity *= 1.0 - step(u_dot_size / u_total_size, fract(st.x / u_total_size));\n      opacity *= 1.0 - step(u_dot_size / u_total_size, fract(st.y / u_total_size));\n\n      vec3 color = u_colors[int(show_offset * 6.0)];\n\n      ").concat(n,"\n\n      fragColor = vec4(color, opacity);\n      fragColor.rgb *= fragColor.a;\n        }"),uniforms:d,maxFps:60})},p=e=>{let{source:t,uniforms:a,maxFps:r=60}=e,{size:l}=(0,c.A)(),n=(0,o.useRef)(null),i=0;(0,c.C)(e=>{let{clock:t}=e;if(!n.current)return;let a=t.getElapsedTime();a-i<1/r||(i=a,n.current.material.uniforms.u_time.value=a)});let d=()=>{let e={};for(let t in a){let r=a[t];switch(r.type){case"uniform1f":e[t]={value:r.value,type:"1f"};break;case"uniform3f":e[t]={value:new x.Pq0().fromArray(r.value),type:"3f"};break;case"uniform1fv":e[t]={value:r.value,type:"1fv"};break;case"uniform3fv":e[t]={value:r.value.map(e=>new x.Pq0().fromArray(e)),type:"3fv"};break;case"uniform2f":e[t]={value:new x.I9Y().fromArray(r.value),type:"2f"};break;default:console.error("Invalid uniform type for '".concat(t,"'."))}}return e.u_time={value:0,type:"1f"},e.u_resolution={value:new x.I9Y(2*l.width,2*l.height)},e},m=(0,o.useMemo)(()=>new x.BKk({vertexShader:"\n      precision mediump float;\n      in vec2 coordinates;\n      uniform vec2 u_resolution;\n      out vec2 fragCoord;\n      void main(){\n        float x = position.x;\n        float y = position.y;\n        gl_Position = vec4(x, y, 0.0, 1.0);\n        fragCoord = (position.xy + vec2(1.0)) * 0.5 * u_resolution;\n        fragCoord.y = u_resolution.y - fragCoord.y;\n      }\n      ",fragmentShader:t,uniforms:d(),glslVersion:x.Wdf,blending:x.bCz,blendSrc:x.ie2,blendDst:x.qad}),[l.width,l.height,t]);return(0,s.jsxs)("mesh",{ref:n,children:[(0,s.jsx)("planeGeometry",{args:[2,2]}),(0,s.jsx)("primitive",{object:m,attach:"material"})]})},h=e=>{let{source:t,uniforms:a,maxFps:r=60}=e;return(0,s.jsx)(m.Hl,{className:"absolute inset-0  h-full w-full",children:(0,s.jsx)(p,{source:t,uniforms:a,maxFps:r})})};function y(){let e=(0,r._)(["\n            radial-gradient(\n              ","px circle at ","px ","px,\n              white,\n              transparent 80%\n            )\n          "]);return y=function(){return e},e}let b=e=>{let{children:t,radius:a=350,color:r="#262626",className:c,...m}=e,x=(0,l.d)(0),g=(0,l.d)(0),[p,h]=(0,o.useState)(!1);return(0,s.jsxs)("div",{className:(0,d.cn)("group/spotlight p-10 rounded-md relative bg-white dark:border dark:bg-black dark:border-neutral-900",c),onMouseMove:function(e){let{currentTarget:t,clientX:a,clientY:r}=e,{left:s,top:l}=t.getBoundingClientRect();x.set(a-s),g.set(r-l)},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),...m,children:[(0,s.jsx)(n.P.div,{className:"pointer-events-none absolute z-0 -inset-px rounded-md opacity-0 transition duration-300 group-hover/spotlight:opacity-100",style:{backgroundColor:r,maskImage:(0,i.E)(y(),a,x,g)},children:p&&(0,s.jsx)(u,{animationSpeed:5,containerClassName:"bg-transparent absolute inset-0 pointer-events-none",colors:[[59,130,246],[139,92,246]],dotSize:3})}),t]})}},77273:(e,t,a)=>{Promise.resolve().then(a.bind(a,63611))}},e=>{var t=t=>e(e.s=t);e.O(0,[8451,1831,9367,8413,2545,4770,9688,4134,1530,8098,3464,8021,5955,7273,2267,5530,3345,5205,1845,9500,8441,1684,7358],()=>t(77273)),_N_E=e.O()}]);