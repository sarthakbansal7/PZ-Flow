(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4654],{32942:(e,a,t)=>{"use strict";t.d(a,{d:()=>i});var l=t(12115),s=t(7471),r=t(76168),n=t(99967);function i(e){let a=(0,r.M)(()=>(0,n.OQ)(e)),{isStatic:t}=(0,l.useContext)(s.Q);if(t){let[,t]=(0,l.useState)(e);(0,l.useEffect)(()=>a.on("change",t),[])}return a}},48290:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>eo});var l=t(95155),s=t(12115),r=t(8366),n=t(97535),i=t(21492),o=t(85213),d=t(95488),c=t(13717),m=t(62525),x=t(47924),u=t(91788),p=t(19946);let h=(0,p.A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),y=(0,p.A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var g=t(42355),f=t(13052),b=t(55868),w=t(10671),v=t(35876);let j=[{key:"name",label:"Name"},{key:"designation",label:"Designation"},{key:"email",label:"Email"},{key:"salary",label:"Salary (USD)"},{key:"wallet",label:"Wallet"}],k=e=>{let{employees:a=[],selectedEmployees:t,toggleEmployeeSelection:r,usdToToken:n,selectedTokenSymbol:p,isLoading:k,deleteEmployeeById:N,onEditEmployee:C,exchangeRate:S,handleTransaction:A,isLoadingDerived:E,needsApproval:_,isApproving:U,isSending:D,isWritePending:P,isTxLoading:F,selectedToken:T,refreshEmployees:R}=e,[M,L]=(0,s.useState)(""),[I,z]=(0,s.useState)("name"),[O,B]=(0,s.useState)("asc"),[W,V]=(0,s.useState)(1),[q,J]=(0,s.useState)(null);(0,s.useRef)(null);let H="salary_".concat(p),$=[...j,{key:H,label:"Salary (".concat(p,")")},{key:"actions",label:"Actions"}],G=(0,s.useMemo)(()=>a.length>0&&t.length===a.length,[a.length,t.length]),Y=(0,s.useMemo)(()=>t.length>0&&t.length<a.length,[t.length,a.length]),Q=(0,s.useMemo)(()=>a.filter(e=>{var a,t,l;let s=M.toLowerCase();return e.name.toLowerCase().includes(s)||e.wallet.toLowerCase().includes(s)||(null==(a=e.designation)?void 0:a.toLowerCase().includes(s))||(null==(t=e.email)?void 0:t.toLowerCase().includes(s))||(null==(l=e.salary)?void 0:l.toString().includes(s))}).sort((e,a)=>{let t=e[I],l=a[I];return(null==t&&(t=""),null==l&&(l=""),"string"==typeof t&&(t=t.toLowerCase()),"string"==typeof l&&(l=l.toLowerCase()),t<l)?"asc"===O?-1:1:t>l?"asc"===O?1:-1:0}),[a,M,I,O]),X=Math.ceil(Q.length/10),K=(W-1)*10,Z=K+10,ee=Q.slice(K,Z);(0,s.useEffect)(()=>{V(1)},[M]);let ea=e=>{I===e?B("asc"===O?"desc":"asc"):(z(e),B("asc"))},et=e=>I!==e?(0,l.jsx)(i.A,{className:"h-4 w-4"}):"asc"===O?(0,l.jsx)(o.A,{className:"h-4 w-4"}):(0,l.jsx)(d.A,{className:"h-4 w-4"}),el=(e,a)=>{switch(a){case"name":return(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium text-sm cursor-pointer hover:from-blue-600 hover:to-purple-700 transition-all",onClick:()=>J(e),title:"View employee details",children:e.name.charAt(0).toUpperCase()}),(0,l.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]});case"designation":return(0,l.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:e.designation||"-"});case"email":return(0,l.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:e.email||"-"});case"salary":return(0,l.jsxs)("span",{className:"font-medium text-green-600 dark:text-green-400",children:["$",e.salary||"0"]});case"wallet":return(0,l.jsxs)("span",{className:"font-mono text-sm text-gray-600 dark:text-gray-300",children:[e.wallet.slice(0,6),"...",e.wallet.slice(-4)]});case H:return(0,l.jsxs)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[n(e.salary||"0")," ",p]});case"actions":return(0,l.jsxs)("div",{className:"flex items-center space-x-2",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{onClick:a=>{a.stopPropagation(),null==C||C(e)},className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"Edit employee",children:(0,l.jsx)(c.A,{className:"h-4 w-4"})}),(0,l.jsx)("button",{onClick:a=>{a.stopPropagation(),N(e.wallet)},className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Delete employee",children:(0,l.jsx)(m.A,{className:"h-4 w-4"})})]});default:return null}};return k?(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded-lg mb-4"}),(0,l.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,l.jsx)("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded-lg"},a))})]})}):(0,l.jsxs)("div",{className:"w-[95vw] xl:w-[85vw] h-full bg-transparent dark:text-white text-black shadow-sm rounded-lg overflow-hidden ",children:[(0,l.jsx)("div",{className:"p-4 border-b border-gray-300 dark:border-gray-700 bg-transparent",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center",children:[(0,l.jsxs)("div",{className:"relative w-full lg:w-auto lg:flex-grow max-w-md",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search employees...",value:M,onChange:e=>L(e.target.value),className:"w-full px-4 py-2 pl-10 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),(0,l.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"})]}),(0,l.jsxs)("div",{className:"hidden lg:flex flex-wrap items-center gap-3",children:[(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)("select",{id:"sort-select-desktop",value:null!=I?I:"",onChange:e=>ea(e.target.value),className:"px-3 py-2 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500","aria-label":"Sort by column",children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),j.map(e=>(0,l.jsx)("option",{value:e.key,children:e.label},e.key))]})}),(0,l.jsxs)("button",{onClick:()=>{let e=new Blob([["Name,Designation,Email,Salary (USD),Wallet Address",...a.map(e=>['"'.concat(e.name,'"'),'"'.concat(e.designation||"",'"'),'"'.concat(e.email||"",'"'),'"'.concat(e.salary||"",'"'),'"'.concat(e.wallet,'"')].join(","))].join("\\n")],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),l=URL.createObjectURL(e);t.setAttribute("href",l),t.setAttribute("download","employee_payroll_data.csv"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"flex items-center gap-2 px-3 py-2 rounded-md border border-gray-400 dark:border-gray-600 bg-white dark:bg-transparent text-black dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",title:"Export to CSV",children:[(0,l.jsx)(u.A,{className:"w-4 h-4"}),"Export"]})]})]})}),(0,l.jsxs)("div",{className:"bg-transparent overflow-hidden",children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full table-fixed bg-transparent",children:[(0,l.jsx)("thead",{className:"bg-transparent",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"w-12 px-6 py-3 text-left",children:(0,l.jsx)("button",{onClick:()=>{G?a.forEach(e=>{t.includes(e.wallet)&&r(e.wallet)}):a.forEach(e=>{t.includes(e.wallet)||r(e.wallet)})},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:G?(0,l.jsx)(h,{className:"h-5 w-5"}):Y?(0,l.jsx)("div",{className:"h-5 w-5 bg-blue-600 rounded-sm flex items-center justify-center",children:(0,l.jsx)("div",{className:"h-2 w-2 bg-white rounded-sm"})}):(0,l.jsx)(y,{className:"h-5 w-5"})})}),$.map(e=>(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-transparent ".concat("name"===e.key?"w-1/4":"designation"===e.key?"w-1/6":"email"===e.key?"w-1/4":"salary"===e.key||e.key.startsWith("salary_")||"wallet"===e.key?"w-1/6":"actions"===e.key?"w-20":"w-auto"),children:j.some(a=>a.key===e.key)?(0,l.jsxs)("button",{onClick:()=>ea(e.key),className:"flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:[(0,l.jsx)("span",{children:e.label}),et(e.key)]}):(0,l.jsx)("span",{children:e.label})},e.key))]})}),(0,l.jsx)("tbody",{className:"bg-transparent divide-y divide-gray-200 dark:divide-gray-700",children:0===ee.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:$.length+1,className:"px-6 py-12 text-center",children:(0,l.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:M?"No employees found matching your search.":"No employees added yet."})})}):ee.map((e,a)=>(0,l.jsxs)(w.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer ".concat(t.includes(e.wallet)?"bg-blue-50 dark:bg-blue-900/20":""),onClick:()=>r(e.wallet),children:[(0,l.jsx)("td",{className:"px-6 py-4",onClick:e=>e.stopPropagation(),children:(0,l.jsx)("button",{onClick:()=>r(e.wallet),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:t.includes(e.wallet)?(0,l.jsx)(h,{className:"h-5 w-5 text-blue-600"}):(0,l.jsx)(y,{className:"h-5 w-5"})})}),$.map(a=>(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:el(e,a.key)},a.key))]},e.wallet))})]})}),X>1&&(0,l.jsx)("div",{className:"px-6 py-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:["Showing ",K+1," to ",Math.min(Z,Q.length)," of ",Q.length," employees"]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>V(e=>Math.max(e-1,1)),disabled:1===W,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,l.jsx)(g.A,{className:"h-4 w-4"})}),(0,l.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-700 dark:text-gray-300",children:["Page ",W," of ",X]}),(0,l.jsx)("button",{onClick:()=>V(e=>Math.min(e+1,X)),disabled:W===X,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,l.jsx)(f.A,{className:"h-4 w-4"})})]})]})})]}),t.length>0&&(0,l.jsx)("div",{className:"flex justify-end mt-4",children:(0,l.jsx)(w.P.div,{className:"w-auto",whileHover:{scale:t.length>0&&!E?1.02:1},whileTap:{scale:t.length>0&&!E?.98:1},transition:{duration:.2},children:(0,l.jsxs)("button",{onClick:A,disabled:E||0===t.length||k,className:"px-6 py-3 rounded-xl font-medium text-base transition-all flex items-center justify-center gap-3\n                                ".concat(E||0===t.length||k?"bg-gray-300 dark:bg-gray-900/50 text-gray-500 dark:text-gray-300 cursor-not-allowed border border-gray-400 dark:border-gray-600":"bg-gradient-to-r from-[#4890e9] to-[#3b82f6] text-white hover:from-[#3b82f6] hover:to-[#2563eb] shadow-lg shadow-[#3b82f6]/20 hover:shadow-[#3b82f6]/30"),children:[(0,l.jsx)(b.A,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:U?"Approving ".concat(p||(null==T?void 0:T.symbol),"..."):D||P||F?"Processing...":0===t.length?"Select Employees":_&&(null==T?void 0:T.address)!=="NATIVE_ADDRESS"?"Approve & Send":"Pay Selected (".concat(t.length,")")})]})})}),q&&(0,l.jsx)(v.A,{employee:q,isOpen:!!q,onClose:()=>J(null)})]})};var N=t(60760),C=t(54416),S=t(29869),A=t(12168),E=t(89852),_=t(82714),U=t(53999),D=t(42500);let P=e=>{let{children:a,className:t}=e;return(0,l.jsx)("div",{className:(0,U.cn)("flex flex-col space-y-2 w-full",t),children:a})},F=e=>{let{isOpen:a,onClose:t,onAddEmployee:r,onUpdateEmployee:n,editEmployee:i,onUploadSuccess:o}=e,{user:d}=(0,D.A)(),[c,m]=(0,s.useState)({name:"",designation:"",email:"",salary:"",wallet:"",company:(null==d?void 0:d.company)||"Demo Company"}),[x,u]=(0,s.useState)({}),[p,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i?m({name:i.name||"",designation:i.designation||"",email:i.email||"",salary:i.salary||"",wallet:i.wallet||"",company:i.company||(null==d?void 0:d.company)||"Demo Company"}):m({name:"",designation:"",email:"",salary:"",wallet:"",company:(null==d?void 0:d.company)||"Demo Company"}),u({})},[i,null==d?void 0:d.company,a]);let y=()=>{let e={};return c.name.trim()||(e.name="Name is required"),c.designation.trim()||(e.designation="Designation is required"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(e.email="Please enter a valid email address"):e.email="Email is required",c.salary.trim()?(isNaN(parseFloat(c.salary))||0>=parseFloat(c.salary))&&(e.salary="Please enter a valid salary amount"):e.salary="Salary is required",c.wallet.trim()?/^0x[a-fA-F0-9]{40}$/.test(c.wallet)||(e.wallet="Please enter a valid Ethereum wallet address"):e.wallet="Wallet address is required",u(e),0===Object.keys(e).length},g=e=>{let{name:a,value:t}=e.target;m(e=>({...e,[a]:t})),x[a]&&u(e=>({...e,[a]:""}))},f=async e=>{if(e.preventDefault(),y()){h(!0);try{let e={name:c.name.trim(),designation:c.designation.trim(),email:c.email.trim(),salary:c.salary.trim(),wallet:c.wallet.trim(),company:c.company.trim()};i&&n?n(i.wallet,e):r(e),m({name:"",designation:"",email:"",salary:"",wallet:"",company:(null==d?void 0:d.company)||"Demo Company"}),u({}),t()}catch(e){console.error("Error submitting employee:",e)}finally{h(!1)}}};return a?(0,l.jsx)(N.N,{children:a&&(0,l.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 left-0 w-screen h-screen bg-black/50 z-50",onClick:t,children:(0,l.jsxs)(w.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"flex relative w-full h-full items-center justify-center bg-white/90 dark:bg-black/90 md:p-4",children:[(0,l.jsx)(A.n,{}),(0,l.jsxs)(w.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"shadow-input relative w-full md:max-w-4xl rounded-none bg-white md:rounded-xl p-4 md:p-8 dark:bg-black",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-200",children:i?"Edit Employee":"Add New Employee"}),(0,l.jsx)("button",{onClick:t,"aria-label":"Close",children:(0,l.jsx)(C.A,{className:"text-neutral-500 hover:text-red-500"})})]}),(0,l.jsxs)("form",{className:"my-8",onSubmit:f,children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(P,{children:[(0,l.jsx)(_.J,{htmlFor:"name",children:"Employee Name"}),(0,l.jsx)(E.p,{id:"name",name:"name",placeholder:"John Doe",value:c.name,onChange:g,className:(0,U.cn)(x.name&&"border-red-500 focus:ring-red-500")}),x.name&&(0,l.jsx)("p",{className:"text-sm text-red-600 mt-1",children:x.name})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(P,{children:[(0,l.jsx)(_.J,{htmlFor:"designation",children:"Designation"}),(0,l.jsx)(E.p,{id:"designation",name:"designation",placeholder:"Software Engineer",value:c.designation,onChange:g,className:(0,U.cn)(x.designation&&"border-red-500 focus:ring-red-500")}),x.designation&&(0,l.jsx)("p",{className:"text-sm text-red-600 mt-1",children:x.designation})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(P,{children:[(0,l.jsx)(_.J,{htmlFor:"email",children:"Email Address"}),(0,l.jsx)(E.p,{id:"email",name:"email",type:"email",placeholder:"employee@company.com",value:c.email,onChange:g,className:(0,U.cn)(x.email&&"border-red-500 focus:ring-red-500")}),x.email&&(0,l.jsx)("p",{className:"text-sm text-red-600 mt-1",children:x.email})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(P,{children:[(0,l.jsx)(_.J,{htmlFor:"salary",children:"Monthly Salary (USD)"}),(0,l.jsx)(E.p,{id:"salary",name:"salary",placeholder:"5000.00",value:c.salary,onChange:g,className:(0,U.cn)(x.salary&&"border-red-500 focus:ring-red-500")}),x.salary&&(0,l.jsx)("p",{className:"text-sm text-red-600 mt-1",children:x.salary})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(P,{children:[(0,l.jsx)(_.J,{htmlFor:"wallet",children:"Wallet Address"}),(0,l.jsx)(E.p,{id:"wallet",name:"wallet",placeholder:"0x...",value:c.wallet,onChange:g,className:(0,U.cn)(x.wallet&&"border-red-500 focus:ring-red-500")}),x.wallet&&(0,l.jsx)("p",{className:"text-sm text-red-600 mt-1",children:x.wallet})]})}),(0,l.jsx)("div",{className:"flex flex-col space-y-4",children:(0,l.jsxs)("div",{className:"flex md:flex-row flex-col md:space-x-4 space-y-3",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{null==o||o()},className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-neutral-900 dark:from-zinc-900 dark:to-zinc-900 to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:(0,l.jsxs)("span",{className:"relative flex items-center justify-center gap-2",children:[(0,l.jsx)(S.A,{className:"h-4 w-4"}),"Bulk Upload"]})}),(0,l.jsx)("button",{type:"button",onClick:t,className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:bg-zinc-800 dark:from-zinc-900 dark:to-zinc-900 dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:p,className:"group/btn relative block h-10 w-full rounded-md bg-gradient-to-br from-black dark:from-zinc-900 dark:to-zinc-900 to-neutral-600 font-medium text-white shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:shadow-[0px_1px_0px_0px_#27272a_inset,0px_-1px_0px_0px_#27272a_inset]",children:p?"Saving...":i?"Update Employee":"Add Employee"})]})})]})]})]})},"modal-overlay")}):null};var T=t(64261),R=t(5196),M=t(85339),L=t(94631);let I=e=>{let{isOpen:a,onClose:t,onUploadSuccess:r,onEmployeesUploaded:n}=e,[i,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),[m,x]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),y=(0,s.useRef)(null),g=e=>{e.preventDefault(),e.stopPropagation(),o("dragenter"===e.type||"dragover"===e.type)},f=e=>(h(null),e.name.toLowerCase().endsWith(".csv"))?e.size>5242880?void h({success:!1,message:"File too large",details:["File size must be less than 5MB"]}):void c(e):void h({success:!1,message:"Invalid file type",details:["Please upload a CSV file"]}),b=async()=>{if(!d)return void h({success:!1,message:"No file selected",details:["Please select a file to upload"]});try{x(!0),h(null);let o=(await d.text()).split("\\n").filter(e=>e.trim());if(o.length<2)throw Error("CSV file must contain at least a header and one data row");let c=o[0].split(",").map(e=>e.trim().toLowerCase()),m=["name","designation","email","salary","wallet"].filter(e=>!c.some(a=>a.includes(e)));if(m.length>0)throw Error("Missing required columns: ".concat(m.join(", ")));let u=[],p=[];for(let t=1;t<o.length;t++){var e,a,l,s,i;let r=o[t].split(",").map(e=>e.trim());if(r.length!==c.length){p.push("Row ".concat(t+1,": Column count mismatch"));continue}let n=c.findIndex(e=>e.includes("name")),d=c.findIndex(e=>e.includes("designation")),m=c.findIndex(e=>e.includes("email")),x=c.findIndex(e=>e.includes("salary")),h=c.findIndex(e=>e.includes("wallet")),y=null==(e=r[n])?void 0:e.replace(/['"]/g,""),g=null==(a=r[d])?void 0:a.replace(/['"]/g,""),f=null==(l=r[m])?void 0:l.replace(/['"]/g,""),b=null==(s=r[x])?void 0:s.replace(/['"]/g,""),w=null==(i=r[h])?void 0:i.replace(/['"]/g,"");if(!y||!g||!f||!b||!w){p.push("Row ".concat(t+1,": Missing required data"));continue}if(!w.match(/^0x[a-fA-F0-9]{40}$/)){p.push("Row ".concat(t+1,": Invalid wallet address format"));continue}if(!f.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)){p.push("Row ".concat(t+1,": Invalid email format"));continue}if(isNaN(parseFloat(b))){p.push("Row ".concat(t+1,": Invalid salary format"));continue}u.push({name:y,designation:g,email:f,salary:b,wallet:w,company:"Demo Company"})}if(0===u.length)throw Error("No valid employees found in CSV file");let y=["Successfully parsed ".concat(u.length," employee(s)"),...p.length>0?["".concat(p.length," row(s) had errors and were skipped")]:[]];h({success:!0,message:"Upload successful",details:y}),n&&n(u),setTimeout(()=>{r(),setTimeout(()=>t(),1500)},1500)}catch(e){console.error("Upload error:",e),h({success:!1,message:"Upload failed",details:[e.message||"An unexpected error occurred"]})}finally{x(!1)}};return a?(0,l.jsx)(N.N,{children:a&&(0,l.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 left-0 w-screen h-screen bg-black/50 z-50",onClick:t,children:(0,l.jsxs)(w.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"flex relative w-full h-full items-center justify-center bg-white/90 dark:bg-black/90 md:p-4",children:[(0,l.jsx)(A.n,{}),(0,l.jsxs)(w.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20},onClick:e=>e.stopPropagation(),className:"shadow-input relative w-full md:max-w-4xl rounded-none bg-white md:rounded-xl p-4 md:p-8 dark:bg-black",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-neutral-800 dark:text-neutral-200",children:"Bulk Upload Employees"}),(0,l.jsx)("button",{onClick:t,"aria-label":"Close",children:(0,l.jsx)(C.A,{className:"text-neutral-500 hover:text-red-500"})})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-8 text-center transition-all duration-200 cursor-pointer ".concat(i?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":d?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"),onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:e=>{e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files.length>0&&f(e.dataTransfer.files[0])},onClick:()=>{var e;return null==(e=y.current)?void 0:e.click()},children:[(0,l.jsx)("input",{ref:y,type:"file",accept:".csv",onChange:e=>{e.target.files&&e.target.files.length>0&&f(e.target.files[0])},className:"hidden",title:"Upload employee data file"}),d?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(T.A,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:d.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(d.size/1024).toFixed(1)," KB"]})]}),(0,l.jsxs)("button",{onClick:()=>{c(null),h(null),y.current&&(y.current.value="")},className:"inline-flex items-center px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-md hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:[(0,l.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(S.A,{className:"h-12 w-12 text-gray-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Drop your CSV file here"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"or click to browse files"})]})]})]}),(0,l.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2",children:"CSV Format Requirements:"}),(0,l.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-400 space-y-1",children:[(0,l.jsx)("li",{children:"• Required columns: Name, Designation, Email, Salary (USD), Wallet Address"}),(0,l.jsx)("li",{children:"• First row must contain column headers"}),(0,l.jsx)("li",{children:"• Wallet addresses must be valid Ethereum addresses"}),(0,l.jsx)("li",{children:"• Email addresses must be valid format"}),(0,l.jsx)("li",{children:"• Salary must be numeric values"}),(0,l.jsx)("li",{children:"• Maximum 100 employees per upload"}),(0,l.jsx)("li",{children:"• File size limit: 5MB"})]}),(0,l.jsxs)("button",{onClick:()=>{let e=new Blob([["Name,Designation,Email,Salary,Wallet",...[['"John Doe"','"Software Engineer"','"john.doe@company.com"','"5000"','"0x1234567890123456789012345678901234567890"'],['"Jane Smith"','"Product Manager"','"jane.smith@company.com"','"6000"','"0x2345678901234567890123456789012345678901"'],['"Bob Johnson"','"UI/UX Designer"','"bob.johnson@company.com"','"4500"','"0x3456789012345678901234567890123456789012"'],['"Alice Brown"','"DevOps Engineer"','"alice.brown@company.com"','"5500"','"0x4567890123456789012345678901234567890123"'],['"Charlie Wilson"','"Marketing Manager"','"charlie.wilson@company.com"','"4800"','"0x5678901234567890123456789012345678901234"']].map(e=>e.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(e),t=document.createElement("a");t.setAttribute("href",a),t.setAttribute("download","employee_payroll_template.csv"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a)},className:"mt-3 inline-flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors text-sm",children:[(0,l.jsx)(u.A,{className:"h-4 w-4 mr-1"}),"Download Template"]})]}),p&&(0,l.jsx)(w.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-lg p-4 ".concat(p.success?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[p.success?(0,l.jsx)(R.A,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}):(0,l.jsx)(M.A,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"font-medium ".concat(p.success?"text-green-800 dark:text-green-300":"text-red-800 dark:text-red-300"),children:p.message}),p.details&&p.details.length>0&&(0,l.jsx)("ul",{className:"mt-1 text-sm ".concat(p.success?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"),children:p.details.map((e,a)=>(0,l.jsxs)("li",{children:["• ",e]},a))})]})]})}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),(0,l.jsxs)("button",{onClick:b,disabled:!d||m,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:[m&&(0,l.jsx)(L.A,{className:"h-4 w-4 animate-spin"}),(0,l.jsx)("span",{children:m?"Uploading...":"Upload"})]})]})]})]})]})},"modal-overlay")}):null};var z=t(92138);let O=e=>{let{isOpen:a,onClose:t,onDownload:s,onContinue:r,selectedEmployees:n,selectedToken:i,totalAmount:o}=e;return a?(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-full max-w-md mx-4 relative",children:[(0,l.jsx)("button",{onClick:t,className:"absolute top-4 right-4 p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,l.jsx)(C.A,{className:"w-5 h-5 text-gray-500"})}),(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(u.A,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Download Payment Record"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Would you like to download a CSV file for your records before processing the payment?"})]}),(0,l.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mb-6",children:(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Employees:"}),(0,l.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:n.length})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Token:"}),(0,l.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null==i?void 0:i.symbol)||"U2U"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Amount:"}),(0,l.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[parseFloat(o).toFixed(4)," ",(null==i?void 0:i.symbol)||"U2U"]})]})]})}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[(0,l.jsx)(u.A,{className:"w-4 h-4"}),"Download CSV & Continue"]}),(0,l.jsxs)("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:[(0,l.jsx)(z.A,{className:"w-4 h-4"}),"Continue to Pay"]})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-4",children:"CSV file will contain employee details, amounts, and payment information"})]})}):null},B=(e,a,t)=>[["Employee Name","Wallet Address","Email","Designation","Company","Salary (Monthly)","Payment Amount","Token","Payment Date","Transaction Hash"],...e.map((e,l)=>{let s=(parseFloat(t[l]||"0")/Math.pow(10,a.decimals||18)).toFixed(6);return[e.name||"N/A",e.wallet,e.email||"N/A",e.designation||"N/A",e.company||"N/A",e.salary||"N/A",s,a.symbol,new Date().toISOString().split("T")[0],""]})].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),W=(e,a)=>{let t=new Blob([e],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");if(void 0!==l.download){let e=URL.createObjectURL(t);l.setAttribute("href",e),l.setAttribute("download",a||"payroll-payment-".concat(Date.now(),".csv")),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}},V=(e,a,t,l)=>{let s=B(e,a,t),r="payroll-".concat(a.symbol,"-").concat(new Date().toISOString().split("T")[0],".csv");W(s,l||r)};var q=t(31530),J=t(67703),H=t(13857),$=t(21988),G=t(84356);let Y=JSON.parse('{"H":[{"type":"function","name":"bulkTransfer","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"recipients","type":"address[]","internalType":"address[]"},{"name":"amounts","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"payable"}]}');var Q=t(14493),X=t(2145),K=t(18224),Z=t(53031),ee=t(89769),ea=t(84661),et=t(13244),el=t(56680),es=t(12509),er=t(57340),en=t(6874),ei=t.n(en);let eo=(0,el.Ay)(()=>{let[e,a]=(0,s.useState)(!0),[t,i]=(0,s.useState)(1),[o,d]=(0,s.useState)(""),[c,m]=(0,s.useState)(!1),[x,u]=(0,s.useState)(!1),[p,h]=(0,s.useState)([]),[y,g]=(0,s.useState)(null),[f,b]=(0,s.useState)(!0),[w,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(null),[C,S]=(0,s.useState)(""),[A,E]=(0,s.useState)([]),[_,U]=(0,s.useState)(""),[D,P]=(0,s.useState)(!1),[T,R]=(0,s.useState)(!1),[M,L]=(0,s.useState)(!1),[z,B]=(0,s.useState)(void 0),[W,el]=(0,s.useState)(!1),[es,en]=(0,s.useState)($.Y6[0]),[eo,ed]=(0,s.useState)(G.f6[$.Y6[0].id][0]),[ec,em]=(0,s.useState)(void 0),[ex,eu]=(0,s.useState)(!1),{address:ep,isConnected:eh,chainId:ey}=(0,X.F)(),eg=(0,K.i)();(0,Z.U)();let ef=()=>(0,H.yC)(eg);(0,s.useEffect)(()=>{console.log("=== PAYROLL NETWORK DEBUG ==="),console.log("Chain ID:",eg),console.log("Payroll Contract Address:",ef()),console.log("Is Mainnet (39):",39===eg),console.log("Is Testnet (2484):",2484===eg)},[eg]);let eb=!!ef(),ew=39===eg?"U2U Mainnet":2484===eg?"U2U Testnet":"Unknown Network",{writeContractAsync:ev,isPending:ej,data:ek}=(0,ee.x)(),{isLoading:eN,isSuccess:eC,isError:eS}=(0,ea.g)({hash:ek}),[eA,eE]=(0,s.useState)(void 0);(0,s.useEffect)(()=>{ek?em(ek):eA&&em(eA)},[ek,eA]);let e_=T||M||ej||eN,{data:eU,refetch:eD}=(0,et.Q)({address:(null==eo?void 0:eo.address)!==$.Fm?null==eo?void 0:eo.address:void 0,abi:Q.xw,functionName:"allowance",args:[ep,ef()],chainId:eg,query:{enabled:eh&&!!eo&&!!ep&&(null==eo?void 0:eo.address)!==$.Fm&&!!ef()}}),eP=async()=>{eD()};(0,s.useEffect)(()=>{h([]),b(!1),S("Demo Company")},[]),(0,s.useEffect)(()=>{if(ey){let a=$.Y6.find(e=>e.id===ey);if(a){var e;en(a),(null==(e=G.f6[a.id])?void 0:e.length)>0&&ed((o?G.f6[a.id].find(e=>e.symbol===o):void 0)||G.f6[a.id][0])}}},[ey,o]),(0,s.useEffect)(()=>{if(o&&es){let e=(G.f6[eg]||[]).find(e=>e.symbol===o);e&&ed(e)}},[o,es]),(0,s.useEffect)(()=>{let e=null;return _&&(e=setTimeout(()=>{U("")},6e3)),()=>{e&&clearTimeout(e)}},[_]);let eF=e=>(parseFloat(e)*t).toFixed(6),eT=()=>{let e=eF(p.filter(e=>A.includes(e.wallet)).reduce((e,a)=>e+parseFloat(a.salary),0).toString()),a=39===eg&&eo.address===$.Fm?18:eo.decimals;return(0,J.XS)(e,a)},eR=()=>{let e=p.filter(e=>A.includes(e.wallet));return{recipients:e.map(e=>e.wallet),amounts:e.map(e=>{let a=eF(e.salary),t=39===eg&&eo.address===$.Fm?18:eo.decimals;return(0,J.XS)(a,t)})}};(0,s.useEffect)(()=>{if((null==eo?void 0:eo.address)!==$.Fm&&void 0!==eU&&A.length>0)try{let e=eT();P(eU<e)}catch(e){}else P(!1)},[eU,A,eo]),(0,s.useEffect)(()=>{eh&&eo&&ep&&(null==eo?void 0:eo.address)!==$.Fm&&eP()},[null==eo?void 0:eo.address,eg,eP,eh,ep,eo]),A.length,p.length;let eM=async(e,a,t,l)=>{L(!0),console.log("Sending payroll transaction with native U2U token...");try{console.log("Sending native U2U token transfer via payroll contract");let s=await ev({address:e,abi:Y.H,functionName:"bulkTransfer",args:[H.DG,a,t],value:l,gas:BigInt(4e5),chainId:eg});em(s),await eL(s),console.log("Transaction sent successfully")}catch(e){throw console.error("Error in sendTransactionAfterApproval:",e),e}finally{L(!1)}},eL=async e=>{if(console.log("Transaction completed with hash:",e),!e)return void console.error("Missing transaction hash");q.oR.success("Payment transaction completed successfully"),em(void 0),eE(void 0),B(void 0)},eI=async()=>{if(U(""),0===A.length)return void U("Please select at least one employee to pay");eu(!0)},ez=async()=>{el(!0);try{let e=ef();if(!e)return void U("No transfer contract available for this network");let{recipients:a,amounts:t}=eR(),l=t.reduce((e,a)=>e+a,BigInt(0));await eM(e,a,t,l)}catch(e){L(!1),U(e.message||"Transaction failed")}},eO=async()=>{if(j)try{h(e=>e.filter(e=>e.wallet!==j)),q.oR.success("Employee deleted successfully")}catch(e){console.error("Failed to delete employee:",e),q.oR.error("Failed to delete employee")}finally{v(!1),N(null)}},eB=async e=>{try{let a={...e,wallet:e.wallet};h(e=>[...e,a]),m(!1),q.oR.success("Employee added successfully")}catch(e){console.error("Failed to add employee:",e),q.oR.error("Failed to add employee")}},eW=async(e,a)=>{try{h(t=>t.map(t=>t.wallet===e?{...t,...a}:t)),m(!1),g(null),q.oR.success("Employee updated successfully")}catch(e){console.error("Failed to update employee:",e),q.oR.error("Failed to update employee")}};return(0,l.jsxs)("div",{className:"relative h-screen w-screen dark:text-white text-black p-6 z-10",children:[(0,l.jsx)("div",{className:"absolute top-4 left-4",children:(0,l.jsx)(ei(),{href:"/",children:(0,l.jsx)(er.A,{className:"text-black dark:hover:text-gray-200 hover:text-gray-800 dark:text-white",size:30})})}),(0,l.jsxs)("div",{className:"flex flex-col max-w-screen max-h-screen items-center m-10",children:[(0,l.jsx)(r.A,{onConfigurePayments:()=>a(!0),onAddEmployee:()=>{g(null),m(!0)},onBulkUpload:()=>{u(!0)}}),(0,l.jsx)("div",{className:"w-full max-w-6xl mb-4",children:(0,l.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(eb?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-300"),children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(eb?"bg-green-500":"bg-red-500")}),eb?"Connected to ".concat(ew):"Payroll not available on ".concat(ew)]})}),!eb&&(0,l.jsx)("div",{className:"w-full max-w-6xl mb-6",children:(0,l.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-3",children:"⚠️"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Payroll Contract Not Available"}),(0,l.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:["The payroll contract is not deployed on ",ew,". Please switch to U2U Mainnet or U2U Testnet to use this feature."]})]})]})})}),(0,l.jsx)(k,{employees:p,selectedEmployees:A,toggleEmployeeSelection:e=>{E(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},usdToToken:eF,selectedTokenSymbol:o,isLoading:f,deleteEmployeeById:e=>{N(e),v(!0)},onEditEmployee:e=>{g(e),m(!0)},exchangeRate:t,handleTransaction:eI,isLoadingDerived:e_,needsApproval:D,isApproving:T,isSending:M,isWritePending:ej,isTxLoading:eN,selectedToken:eo}),(0,l.jsx)(n.A,{isOpen:e,onClose:()=>a(!1),onExchangeRateUpdate:(e,a)=>{i(e),d(a)}}),(0,l.jsx)(F,{isOpen:c,onClose:()=>{m(!1),g(null)},onAddEmployee:eB,onUpdateEmployee:eW,editEmployee:y,onUploadSuccess:()=>{u(!0)}}),(0,l.jsx)(I,{isOpen:x,onClose:()=>u(!1),onUploadSuccess:()=>{u(!1)},onEmployeesUploaded:e=>{h(a=>[...a,...e])}}),w&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto dark:bg-black dark:text-white text-black backdrop-blur-sm flex items-center justify-center",children:(0,l.jsxs)("div",{className:"dark:bg-[#1A1F2E] rounded-lg p-6 w-full max-w-md mx-4 shadow-xl border border-gray-700 animate-fade-in",children:[(0,l.jsx)("h3",{className:"text-xl font-medium dark:text-white mb-4",children:"Confirm Deletion"}),(0,l.jsx)("p",{className:"dark:text-gray-300 mb-6",children:"Are you sure you want to delete this employee? This action cannot be undone."}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,l.jsx)("button",{onClick:()=>{v(!1),N(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md text-white transition-colors duration-200",children:"Cancel"}),(0,l.jsx)("button",{onClick:eO,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white transition-colors duration-200",children:"Delete"})]})]})}),(0,l.jsx)(O,{isOpen:ex,onClose:()=>{eu(!1)},onDownload:()=>{let e=p.filter(e=>A.includes(e.wallet)),{amounts:a}=eR(),t=a.map(e=>e.toString());V(e,{symbol:eo.symbol,address:eo.address,decimals:eo.decimals},t),q.oR.success("CSV file downloaded successfully"),eu(!1),ez()},onContinue:()=>{eu(!1),ez()},selectedEmployees:p.filter(e=>A.includes(e.wallet)),selectedToken:eo,totalAmount:A.length>0?eT().toString():"0"})]})]})},(0,l.jsx)(es.A,{}))},55615:(e,a,t)=>{"use strict";t.d(a,{E:()=>i});var l=t(69025),s=t(32942),r=t(46182),n=t(5057);function i(e,...a){let t=e.length;return function(e,a){let t=(0,s.d)(a()),n=()=>t.set(a());return n(),(0,l.E)(()=>{let a=()=>r.Gt.preRender(n,!1,!0),t=e.map(e=>e.on("change",a));return()=>{t.forEach(e=>e()),(0,r.WG)(n)}}),t}(a.filter(n.S),function(){let l="";for(let s=0;s<t;s++){l+=e[s];let t=a[s];t&&(l+=(0,n.S)(t)?t.get():t)}return l})}},92138:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(19946).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},97861:(e,a,t)=>{Promise.resolve().then(t.bind(t,48290))}},e=>{var a=a=>e(e.s=a);e.O(0,[8451,4770,9688,4134,1530,8098,3464,8021,5955,7273,2267,3345,1845,9500,8441,1684,7358],()=>a(97861)),_N_E=e.O()}]);